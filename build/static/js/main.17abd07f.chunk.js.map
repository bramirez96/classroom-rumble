{"version":3,"sources":["api/Prompts/index.ts","api/Prompts/prompts.ts","api/axiosWithConfig.tsx","api/Rumbles/index.ts","api/Rumbles/rumbles.ts","api/Sections/index.ts","api/Sections/create.ts","api/Sections/join.ts","api/Sections/sections.ts","api/Students/index.ts","api/Students/students.ts","api/Submissions/index.ts","api/Submissions/submissions.ts","components/common/Select/index.ts","components/common/Select/Select.tsx","utils/helpers/generateJoinCode.ts","utils/hideCookiePopup/hideCookiePopup.ts","utils/query/queryParser.ts","utils/token/token.tsx","utils/upload/uploadHelpers.ts","api/Auth/authTypes.ts","api/Auth/basicAuth.ts","api/Auth/cleverAuth.ts","api/InitialState/userInfo.ts","components/common/Checkbox/Checkbox.tsx","components/common/CheckboxGroup/CheckboxGroup.tsx","state/authState/authAtoms.ts","state/authState/authFormState.ts","state/authState/authSelectors.ts","state/currentViewState/currentViewAtoms.ts","state/enumDataState/enumDataAtoms.ts","state/modalState/inviteModalAtoms.ts","state/promptState/promptAtoms.ts","state/reset.ts","state/rumbleState/rumbleAtoms.ts","state/sectionState/sectionAtoms.ts","state/rumbleState/rumbleSelectors.ts","state/studentState/studentAtoms.ts","components/common/CleverButton/CleverButton.tsx","assets/img/clever-square-icon.png","components/common/CookiePopup/CookiePopup.tsx","components/common/CouldNotLoad/CouldNotLoad.tsx","components/common/CountDown/RenderCountDownbox.tsx","components/common/CountDown/CountDownContainer.tsx","components/common/Header/Header.tsx","components/common/Input/Input.tsx","components/common/LandingPageWrapper/LandingPageWrapper.tsx","components/common/Loader/Dots.tsx","components/common/Loader/Loader.tsx","components/common/LoadUserData/LoadUserData.tsx","components/common/Modal/Modal.tsx","components/common/LogoutPopup/LogoutPopup.tsx","components/common/PrivateRoute/PrivateRoute.tsx","components/common/PromptBox/RenderPromptBox.tsx","components/common/PromptBox/PromptBoxContainer.tsx","components/common/SectionInfo/RenderSectionInfo.tsx","components/common/SectionInfo/SectionInfoContainer.tsx","config/dataConstraints.ts","config/seoConfig/metaData.ts","components/common/SEO/SEO.tsx","components/common/Table/TableBody.tsx","components/common/Table/TableCol.tsx","components/common/Table/TableHeader.tsx","components/common/Table/TableRow.tsx","assets/TOS.md","components/common/TermsOfService/TermsOfService.tsx","components/pages/CleverRedirect/CleverPageContainer.tsx","components/pages/LandingPage/RenderLandingPage.tsx","components/pages/LandingPage/LandingPageContainer.tsx","components/pages/LoginPage/LoginForm.tsx","components/pages/LoginPage/RenderLoginPage.tsx","components/pages/LoginPage/LoginPageContainer.tsx","components/pages/SignupPage/SignupForm.tsx","components/pages/SignupPage/RenderSignupPage.tsx","components/pages/SignupPage/SignupPageContainer.tsx","components/pages/StudentDashboard/JoinSectionRedirect/JoinSectionRedirectContainer.tsx","components/pages/StudentDashboard/StudentDashboardRumbleList/StudentDashboardRumbleCard.tsx","components/pages/StudentDashboard/StudentDashboardRumbleList/StudentDashboardRumbleList.tsx","components/pages/StudentDashboard/StudentSectionList/StudentSection.tsx","components/pages/StudentDashboard/StudentSectionList/StudentSectionList.tsx","components/pages/StudentDashboard/RenderStudentDashboard.tsx","hooks/useCheckBrowserState/useCheckBrowserState.tsx","hooks/useRumbleFilter/useRumbleFilter.ts","components/pages/StudentDashboard/StudentViewRumble/StudentRumblePages/PastRumbleDetails/RenderPastRumbleDetails.tsx","components/pages/StudentDashboard/StudentViewRumble/StudentRumblePages/PastRumbleDetails/PastRumbleDetailsContainer.tsx","components/pages/StudentDashboard/StudentViewRumble/StudentRumblePages/StudentSubmissionPage/SubmissionForm.tsx","components/pages/StudentDashboard/StudentViewRumble/StudentRumblePages/StudentSubmissionPage/StudentSubmissionPage.tsx","assets/img/female-surfer.svg","components/pages/StudentDashboard/StudentViewRumble/StudentRumblePages/SubmissionSuccess.tsx","components/pages/StudentDashboard/StudentViewRumble/StudentRumblePages/WaitingRoom.tsx","components/pages/StudentDashboard/StudentViewRumble/StudentRumbleRedirect.tsx","components/pages/StudentDashboard/StudentViewRumble/StudentViewRumbleContainer.tsx","components/pages/StudentDashboard/StudentRumbleList/StudentRumble.tsx","components/pages/StudentDashboard/StudentRumbleList/StudentRumbleList.tsx","components/pages/StudentDashboard/StudentViewSection/RenderStudentViewSection.tsx","components/pages/StudentDashboard/StudentViewSection/StudentViewSectionContainer.tsx","components/pages/StudentDashboard/StudentDashboardContainer.tsx","components/pages/TeacherDashboard/CreateNewRumble/CreateNewRumbleForm.tsx","components/pages/TeacherDashboard/CreateNewRumble/RenderCreateNewRumble.tsx","components/pages/TeacherDashboard/CreateNewRumble/CreateNewRumbleContainer.tsx","components/pages/TeacherDashboard/PromptQueueDisplay/CreateCustomPrompt/CreateCustomPromptForm.tsx","components/pages/TeacherDashboard/PromptQueueDisplay/CreateCustomPrompt/CreateCustomPrompt.tsx","components/pages/TeacherDashboard/PromptQueueDisplay/PromptQueueItem.tsx","components/pages/TeacherDashboard/PromptQueueDisplay/RenderPromptQueueDisplay.tsx","components/pages/TeacherDashboard/PromptQueueDisplay/PromptQueueDisplayContainer.tsx","components/pages/TeacherDashboard/TeacherDashboardRumbleList/TeacherDashboardRumbleCard.tsx","components/pages/TeacherDashboard/TeacherDashboardRumbleList/TeacherDashboardRumbleList.tsx","components/pages/TeacherDashboard/InviteToSection/InviteCode.tsx","components/pages/TeacherDashboard/InviteToSection/SectionPicker.tsx","components/pages/TeacherDashboard/InviteToSection/InviteToSection.tsx","components/pages/TeacherDashboard/TeacherDashboardSectionList/CreateNewSection/CreateNewSectionForm.tsx","components/pages/TeacherDashboard/TeacherDashboardSectionList/CreateNewSection/CreateNewSection.tsx","components/pages/TeacherDashboard/TeacherDashboardSectionList/TeacherDashboardSectionCard.tsx","components/pages/TeacherDashboard/TeacherDashboardSectionList/TeacherDashboardSectionList.tsx","components/pages/TeacherDashboard/RenderTeacherDashboard.tsx","components/pages/TeacherDashboard/TeacherViewRumble/RumbleStudentList/RumbleStudentCard.tsx","components/pages/TeacherDashboard/TeacherViewRumble/RumbleStudentList/RenderRumbleStudentList.tsx","components/pages/TeacherDashboard/TeacherViewRumble/RumbleStudentList/RumbleStudentListContainer.tsx","components/pages/TeacherDashboard/TeacherViewRumble/RenderTeacherViewRumble.tsx","components/pages/TeacherDashboard/TeacherViewRumble/TeacherViewRumbleContainer.tsx","components/pages/TeacherDashboard/TeacherViewSection/SectionStudentList/SectionStudentCard.tsx","components/pages/TeacherDashboard/TeacherViewSection/SectionStudentList/RenderSectionStudentList.tsx","components/pages/TeacherDashboard/TeacherViewSection/SectionStudentList/SectionStudentListContainer.tsx","components/pages/TeacherDashboard/TeacherViewSection/RenderTeacherViewSection.tsx","components/pages/TeacherDashboard/TeacherViewSection/TeacherViewSectionContainer.tsx","components/pages/TeacherDashboard/TeacherViewStudent/SubmissionList/SubmissionCard.tsx","components/pages/TeacherDashboard/TeacherViewStudent/SubmissionList/RenderSubmissionList.tsx","components/pages/TeacherDashboard/TeacherViewStudent/SubmissionList/SubmissionListContainer.tsx","components/pages/TeacherDashboard/TeacherViewStudent/RenderTeacherViewStudent.tsx","components/pages/TeacherDashboard/TeacherViewStudent/TeacherViewStudentContainer.tsx","components/pages/TeacherDashboard/TeacherViewSubmission/RenderTeacherViewSubmission.tsx","components/pages/TeacherDashboard/TeacherViewSubmission/TeacherViewSubmissionContainer.tsx","components/pages/TeacherDashboard/TeacherDashboardContainer.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["getUpcoming","a","axiosWithAuth","get","data","addCustom","prompt","post","getPrompts","offset","getPromptById","promptId","baseURL","process","REACT_APP_API_URL","axios","create","headers","Authorization","token","axiosWithoutAuth","body","teacherId","sectionIds","rumble","getRumbleById","rumbleId","startRumble","sectionId","put","createNewSection","rumbles","getSectionEnumData","joinSection","studentId","getTeacherSections","getStudentSections","getWithSubsByRumbleId","getWithSubsBySectionId","getSubForRumble","getSubsForStudentInSection","submitStory","Select","options","errors","name","register","rules","placeholder","multiple","defaultValue","props","className","ref","value","disabled","hidden","map","item","i","label","required","joinCode","section","id","hideCookiePopupName","HIDE_COOKIE_POPUP_KEY","localStorage","getItem","set","setItem","clear","removeItem","parse","query","JSON","slice","replace","key","decodeURIComponent","tokenName","TOKEN_KEY","userStorageName","USER_STORAGE","decodedToken","jwt_decode","Date","now","exp","Error","undefined","err","console","log","clearUser","getUser","setUser","user","stringify","isValidImage","image","includes","type","Roles","login","signup","credentials","formatSignupBody","formData","age","parseInt","ageStr","email","firstname","lastname","parentEmail","password","codename","authorizeWithClever","code","mergeAccounts","cleverId","signupWithClever","roleId","userType","params","URLSearchParams","toString","cleverButton","getUserInfo","Checkbox","rest","htmlFor","autoComplete","message","CheckboxGroup","o","defaultChecked","authToken","atom","default","logoutModalOpen","cleverLoginButtonURL","loadingCleverLoginButtonURL","isLogin","isLoggedIn","selector","curUser","curToken","newValue","DefaultValue","Reflect","has","t","u","student","sub","hasSubmitted","grades","subjects","isOpen","queue","list","customList","promptOffset","currentPrompt","reset","addRumbles","rumbleList","sectionList","sections","sec","filter","rum","CleverButton","useRecoilState","auth","loading","setIsLoading","url","setUrl","useEffect","Auth","then","res","catch","onClick","window","location","assign","src","alt","CookiePopup","useState","isShowing","setIsShowing","isChecked","setIsChecked","hideCookie","cookie","checked","onChange","c","CouldNotLoad","error","RenderCountDownBox","hours","minutes","seconds","toFixed","CountDownContainer","endTime","calculateTimeLeft","difference","DateTime","fromISO","diffNow","timeLeft","min","valueOf","setTimeLeft","total","setTotal","b","timer","setTimeout","clearTimeout","Header","useRecoilValue","useMemo","push","useHistory","Input","showPassword","inputType","setInputType","autoCapitalize","tabIndex","event","preventDefault","prevType","LandingPageWrapper","children","Dots","dots","setDots","dotTimer","setInterval","cur","length","clearInterval","Loader","getRumblesFromSectionList","sectionName","LoadUserData","isLogged","setRumbles","useSetRecoilState","setSections","setGradeEnum","enumData","setSubjectEnum","pathname","useLocation","InitialState","Component","component","closable","centered","visible","setVisible","title","showContents","setShowContents","closeModal","e","stopPropagation","LogoutComponent","resetRecoilState","LogoutPopup","isVisible","setIsVisible","PrivateRoute","canAccess","admin","render","to","useFormatDate","date","luxonDate","isValid","toLocaleString","DATE_SHORT","weekday","RenderPromptBox","isTeacher","PromptBoxContainer","currentRumble","current","currentSection","end_time","setEndTime","promptState","setPrompt","setError","Prompts","useCallback","Rumbles","newEndTime","RenderSectionInfo","grade","subject","openInviteModal","studentName","SectionInfoContainer","gradeEnum","gradeValue","x","gradeId","subjectEnum","subjectValue","subjectId","setInviteOpen","modals","invite","emailRegex","passwordRegex","codenameRegex","uuidV5Regex","description","twitterHandle","deployedUrl","REACT_APP_DEPLOY_URL","SEO","seoConfig","path","meta","property","content","rel","href","TableBody","TableCol","TableHeader","TableRow","TermsOfService","tos","setTos","fetch","TosMarkdown","text","CleverRedirectContainer","search","setCode","actionType","isMerge","isNew","first","last","RenderLandingPage","LandingPageContainer","LoginForm","useForm","handleSubmit","clearErrors","onSubmit","response","RenderLoginPage","loginProps","LoginPageContainer","setIsMerge","setCodename","setCleverId","SignupForm","mode","watch","validate","differentEmail","pattern","patterns","checkCharacters","test","checkLength","regex","includesCapital","includesNumber","checkRegex","target","RenderSignupPage","SignupPageContainer","setIsNew","setRoleId","setFirstname","setLastname","setEmail","JoinSectionRedirectContainer","setSectionId","setJoinCode","setSectionList","Sections","prev","StudentRumble","setCurrentSection","setCurrentRumble","numMinutes","StudentDashboardRumbleList","StudentDashboardRumbleCard","StudentSection","active","StudentSectionListContainer","RenderStudentDashboard","StudentSectionList","useCheckBrowserState","values","state","isLoading","setSection","setStudent","setRumble","setSub","submission","useRumbleFilter","RenderPastRumbleDetails","PastRumbleDetailsContainer","setSubmission","userId","Students","SubmissionForm","file","setFile","preview","setPreview","setLoading","complete","setComplete","reqBody","FormData","append","Submissions","fileList","files","selection","upload","URL","createObjectURL","RenderStudentViewRumble","SubmissionSuccess","surfer","WaitingRoom","isRumbleEnded","StudentRumbleRedirect","successfulSubmission","StudentSubmissionPage","StudentViewRumbleContainer","isFetching","setIsFetching","rumbleInfo","RenderStudentRumbleList","r","RenderStudentViewSectionRumbles","currentRumbles","pastRumbles","StudentRumbleList","StudentViewSectionRumblesContainer","StudentDashboardContainer","exact","JoinSectionRedirect","CreateNewRumbleForm","control","sectionOptions","s","momentTime","idList","op","hour","moment","minute","minuteStep","showSecond","defaultOpenValue","formatDate","DATE_MED_WITH_WEEKDAY","RenderCreateNewRumble","starts_at","CreateNewRumble","history","selectedPrompt","CreateCustomPromptForm","setCustomPrompts","prompts","autoFocus","minLength","rows","CreateCustomPrompt","PromptQueueItem","promptProps","RenderPromptQueueDisplay","newPromptModalOpen","setNewPromptModalOpen","PromptQueueDisplayContainer","promptQueue","setPromptQueue","customPrompts","TeacherDashboardRumbleCard","Math","floor","mins","timeDisplay","TeacherDashboardRumbleList","InviteCode","goBack","disableSectionPicker","readOnly","helpers","SectionPicker","InviteToSection","setIsOpen","clearSection","useResetRecoilState","CreateNewSectionForm","CreateNewSection","TeacherDashboardSectionCard","RenderTeacherDashboardSectionList","setInviteModalOpen","newSectionOpen","setNewSectionOpen","RenderTeacherDashboard","TeacherDashboardSectionList","RumbleStudentCard","setCurrentStudent","setCurrentSub","Row","Col","submissions","RenderRumbleStudentList","studentList","Body","RumbleStudentListContainer","setStudentList","RenderTeacherViewRumble","TeacherViewRumbleContainer","promptIsLoading","setPromptIsLoading","SectionStudentCard","clearCurrentRumble","RenderSectionStudentList","SectionStudentListContainer","students","RenderTeacherViewSection","isStudentView","setIsStudentView","TeacherViewSectionContainer","SubmissionCard","score","setCurrentSubmission","currentSubmission","RenderSubmissionList","submissionList","SubmissionListContainer","subList","setSubList","RenderTeacherViewStudent","TeacherViewStudentContainer","RenderTeacherViewSubmission","TeacherViewSubmissionContainer","TeacherDashboardContainer","App","teacher","TeacherDashboard","StudentDashboard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","dotenv","config","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.17abd07f.chunk.js","sourcesContent":["export * from './prompts';\r\nexport * from './promptTypes';\r\n","import { axiosWithAuth } from '../axiosWithConfig';\r\nimport { IPrompt, IPromptInQueue } from './promptTypes';\r\n\r\nexport const getUpcoming = async (): Promise<IPromptInQueue[]> => {\r\n  const { data } = await axiosWithAuth().get('/api/prompts/queue');\r\n  return data;\r\n};\r\n\r\nexport const addCustom = async (prompt: string): Promise<IPrompt> => {\r\n  const { data } = await axiosWithAuth().post(`/api/prompts/custom`, {\r\n    prompt,\r\n  });\r\n  return data;\r\n};\r\n\r\nexport const getPrompts = async (offset: number): Promise<IPrompt[]> => {\r\n  const { data } = await axiosWithAuth().get(\r\n    `/api/prompts?offset=${offset}&limit=5`,\r\n  );\r\n  return data;\r\n};\r\n\r\n/**\r\n * Get the prompt associated with whichever Rumble Instance a student joins.\r\n * @param promptId is the prompt for the specific Rumble a student clicks on\r\n * @returns a prompt type of string.\r\n */\r\nexport const getPromptById = async (promptId: number): Promise<string> => {\r\n  const { data } = await axiosWithAuth().get(`/api/prompts/${promptId}`);\r\n  return data.prompt;\r\n};\r\n","import axios, { AxiosInstance } from 'axios';\r\nimport { token } from '../utils';\r\n\r\n// Attempts to read the API URL from your ENV, falls back to localhost\r\nconst baseURL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\r\n\r\nexport const axiosWithAuth = (): AxiosInstance =>\r\n  axios.create({\r\n    baseURL,\r\n    headers: {\r\n      Authorization: token.get(),\r\n    },\r\n  });\r\n\r\nexport const axiosWithoutAuth = (): AxiosInstance =>\r\n  axios.create({\r\n    baseURL,\r\n  });\r\n","export * from './rumbles';\r\nexport * from './rumbleTypes';\r\n","import { axiosWithAuth } from '../axiosWithConfig';\r\nimport {\r\n  IRumble,\r\n  IRumblePostBody,\r\n  IRumbleWithSectionInfo,\r\n} from './rumbleTypes';\r\n\r\nexport const create = async (\r\n  body: IRumblePostBody,\r\n  teacherId: number,\r\n  sectionIds: number[],\r\n): Promise<IRumbleWithSectionInfo[]> => {\r\n  const { data } = await axiosWithAuth().post(\r\n    `/api/rumble/teachers/${teacherId}/rumbles`,\r\n    {\r\n      rumble: body,\r\n      sectionIds,\r\n    },\r\n  );\r\n  return data;\r\n};\r\n\r\nexport const getRumbleById = async (rumbleId: number): Promise<IRumble> => {\r\n  const { data } = await axiosWithAuth().get(`api/rumble/rumbles/${rumbleId}`);\r\n  return data;\r\n};\r\n\r\nexport const startRumble = async (\r\n  rumbleId: number,\r\n  sectionId: number,\r\n): Promise<Date> => {\r\n  const { data } = await axiosWithAuth().put(\r\n    `/api/rumble/rumbles/${rumbleId}/section/${sectionId}/start`,\r\n  );\r\n  return data;\r\n};\r\n","export * from './create';\r\nexport * from './join';\r\nexport * from './sections';\r\nexport * from './sectionTypes';\r\n","import { axiosWithAuth } from '../axiosWithConfig';\r\nimport {\r\n  INewSectionBody,\r\n  ISectionEnumData,\r\n  ISectionWithRumbles,\r\n} from './sectionTypes';\r\n\r\nexport const createNewSection = async (\r\n  body: INewSectionBody,\r\n  teacherId: number,\r\n): Promise<ISectionWithRumbles> => {\r\n  const { data } = await axiosWithAuth().post(\r\n    `/api/rumble/teachers/${teacherId}/sections`,\r\n    body,\r\n  );\r\n  return { ...data, rumbles: [] };\r\n};\r\n\r\nexport const getSectionEnumData = async (): Promise<ISectionEnumData> => {\r\n  const { data } = await axiosWithAuth().get('/api/rumble/data');\r\n  return data;\r\n  // return Promise.resolve(dummyData);\r\n};\r\n\r\n// const dummyData = [\r\n//   {\r\n//     grades: [\r\n//       { gradeId: '0', value: '3' },\r\n//       { gradeId: '1', value: '4' },\r\n//       { gradeId: '2', value: '5' },\r\n//       { gradeId: '3', value: '6' },\r\n//     ],\r\n//     subjects: [\r\n//       { subjectId: '3', value: 'Math' },\r\n//       { subjectId: '4', value: 'Art' },\r\n//       { subjectId: '5', value: 'English' },\r\n//       { subjectId: '6', value: 'Science' },\r\n//     ],\r\n//   },\r\n// ];\r\n","import { axiosWithAuth } from '../axiosWithConfig';\r\nimport { ISectionWithRumbles } from './sectionTypes';\r\n\r\nexport const joinSection = async (\r\n  body: { joinCode: string },\r\n  sectionId: number,\r\n  studentId: number,\r\n): Promise<ISectionWithRumbles> => {\r\n  const { data } = await axiosWithAuth().post(\r\n    `/api/rumble/sections/${sectionId}/students/${studentId}`,\r\n    body,\r\n  );\r\n  return data;\r\n};\r\n","import { axiosWithAuth } from '../axiosWithConfig';\r\nimport { ISectionWithRumbles } from './sectionTypes';\r\n\r\n// GET a list of Teachers sections\r\nexport const getTeacherSections = async (\r\n  teacherId: number,\r\n): Promise<ISectionWithRumbles[]> => {\r\n  const { data } = await axiosWithAuth().get(\r\n    `/api/rumble/teachers/${teacherId}/sections`,\r\n  );\r\n  return data;\r\n};\r\n\r\n// GET a list of Student Sections\r\nexport const getStudentSections = async (\r\n  studentId: number,\r\n): Promise<ISectionWithRumbles[]> => {\r\n  const { data } = await axiosWithAuth().get(\r\n    `/api/rumble/students/${studentId}/sections`,\r\n  );\r\n  return data;\r\n};\r\n\r\n/**\r\n * Dummy Data for testing\r\n */\r\n/**\r\n * const dummyData = [\r\n  {\r\n    name: 'Kathy Smith',\r\n    active: true,\r\n    grade: 'ten',\r\n    subject: 'History',\r\n    joinCode: '5xxa',\r\n  },\r\n  {\r\n    name: 'Ken Smith',\r\n    active: true,\r\n    grade: 'eleven',\r\n    subject: 'Math',\r\n    joinCode: '5dda',\r\n  },\r\n  {\r\n    name: 'Missy Smith',\r\n    active: true,\r\n    grade: 'nine',\r\n    subject: 'Art',\r\n    joinCode: '9rr1',\r\n  },\r\n];\r\n */\r\n","export * from './students';\r\nexport * from './studentTypes';\r\n","import { axiosWithAuth } from '../axiosWithConfig';\r\nimport { ISubItem } from '../Submissions';\r\nimport { IStudentWithSubmissions } from './studentTypes';\r\n\r\nexport const getWithSubsByRumbleId = async (\r\n  rumbleId: number,\r\n): Promise<IStudentWithSubmissions[]> => {\r\n  const { data } = await axiosWithAuth().get(\r\n    `/api/rumble/rumbles/${rumbleId}/students`,\r\n  );\r\n  return data;\r\n};\r\n\r\nexport const getWithSubsBySectionId = async (\r\n  sectionId: number,\r\n): Promise<IStudentWithSubmissions[]> => {\r\n  const { data } = await axiosWithAuth().get(\r\n    `/api/rumble/sections/${sectionId}/students`,\r\n  );\r\n  return data;\r\n};\r\n\r\nexport const getSubForRumble = async (\r\n  rumbleId: number,\r\n  studentId: number,\r\n): Promise<ISubItem[]> => {\r\n  const { data } = await axiosWithAuth().get(\r\n    `/api/rumble/rumbles/${rumbleId}/students/${studentId}`,\r\n  );\r\n  return data;\r\n};\r\n","export * from './submissions';\r\nexport * from './subTypes';\r\n","import { axiosWithAuth } from '../axiosWithConfig';\r\nimport { ISubItem } from './subTypes';\r\n\r\nexport const getSubsForStudentInSection = async (\r\n  studentId: number,\r\n  sectionId: number,\r\n): Promise<ISubItem[]> => {\r\n  const { data } = await axiosWithAuth().get(\r\n    `/api/rumble/students/${studentId}/submissions?sectionId=${sectionId}`,\r\n  );\r\n  return data;\r\n};\r\n\r\nexport const submitStory = async (\r\n  body: FormData,\r\n): Promise<{ message: string }> => {\r\n  const { data } = await axiosWithAuth().post(\r\n    `/api/submissions?sourceId=2`,\r\n    body,\r\n  );\r\n  return data;\r\n};\r\n","export { default as Component } from './Select';\r\nexport * from './selectTypes';\r\n","import React from 'react';\r\nimport { ISelectProps } from './selectTypes';\r\n\r\nconst Select = ({\r\n  options = [],\r\n  errors = {},\r\n  name,\r\n  register,\r\n  rules,\r\n  placeholder,\r\n  multiple,\r\n  defaultValue = multiple ? [] : 'none',\r\n  ...props\r\n}: ISelectProps): React.ReactElement => {\r\n  return (\r\n    <div className={`form-select${errors[name] ? ' error' : ''}`}>\r\n      <select\r\n        {...props}\r\n        name={name}\r\n        ref={register && register(rules)}\r\n        defaultValue={defaultValue}\r\n        multiple={multiple}\r\n      >\r\n        {placeholder && (\r\n          <option value=\"none\" disabled hidden>\r\n            {placeholder}\r\n          </option>\r\n        )}\r\n        {options.map((item, i) => (\r\n          <option key={`${item.value}-${item.label}-${i}`} value={item.value}>\r\n            {item.label}\r\n          </option>\r\n        ))}\r\n      </select>\r\n      {!rules?.required && <div className=\"optional\">* Optional</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Select;\r\n","import { Sections } from '../../api';\r\n\r\nexport const joinCode = (\r\n  section: Sections.ISectionWithRumbles | Sections.ISection,\r\n): string => `http://localhost:3000/dashboard/student/join?joinCode=\r\n${section.joinCode}\r\n&sectionId=${section.id}`;\r\n","const hideCookiePopupName: string =\r\n  process.env.HIDE_COOKIE_POPUP_KEY || 'hideCookiePopupRumble';\r\n\r\nexport const get = (): boolean => !!localStorage.getItem(hideCookiePopupName);\r\nexport const set = (): void => localStorage.setItem(hideCookiePopupName, 'yes');\r\nexport const clear = (): void => localStorage.removeItem(hideCookiePopupName);\r\n","/**\r\n * This parses a query string into a proper object. It allows you to pass\r\n * in a string union type parameter so that you can get good linting when\r\n * you know the query parameters you're going to have.\r\n *\r\n * *Note: you won't get any errors if you don't pass a type in, as TypeScript\r\n * creates a generic `Record<string, string>` response type, but passing a\r\n * type is helpful when you want good linting as well as when you know what\r\n * query parameters you're receiving.*\r\n *\r\n * ```ts\r\n * const { search } = useLocation();\r\n *\r\n * const params = query.parse<'name' | 'email'>(search);\r\n *\r\n * typeof params.name;  // string\r\n * typeof params.email; // string\r\n * typeof params.none;  // error\r\n * ```\r\n *\r\n * @param query the query string returned from `useLocation().search`\r\n * @param ParamList a string unino type containing the query keys you're expecting\r\n */\r\nexport const parse = <ParamList extends string>(\r\n  query: string,\r\n): ParserResponse<ParamList> =>\r\n  JSON.parse(\r\n    '{\"' + query.slice(1).replace(/&/g, '\",\"').replace(/=/g, '\":\"') + '\"}',\r\n    (key, value) => (key === '' ? value : decodeURIComponent(value)),\r\n  );\r\n\r\ntype ParserResponse<QueryParamList extends string> = {\r\n  [key in QueryParamList]?: string;\r\n};\r\n","import jwt_decode from 'jwt-decode';\r\nimport { Auth } from '../../api';\r\n\r\n/**\r\n * If a key is set in the ENV, it will use that as the localStorage\r\n * key for the token, otherwise it will be stored as `token: ''`\r\n */\r\nconst tokenName: string = process.env.TOKEN_KEY || 'token';\r\nconst userStorageName: string = process.env.USER_STORAGE || 'user';\r\n\r\n/**\r\n * Decodes the token and checks if you're still logged in before continuing.\r\n * If the token has expired or there is no token, the token is cleared and\r\n * you're sent back to the landing page.\r\n */\r\nexport const get = (): string | undefined => {\r\n  const token = localStorage.getItem(tokenName);\r\n  if (!token) return;\r\n\r\n  try {\r\n    // jwt_decode will throw an error if the token is invalid\r\n    const decodedToken: DecodedToken = jwt_decode(token);\r\n    // If the token is expired, we will also throw an error\r\n    if (Date.now() >= decodedToken.exp) throw new Error();\r\n    return token ?? undefined;\r\n  } catch (err) {\r\n    console.log(err);\r\n    clear();\r\n    clearUser();\r\n    return;\r\n  }\r\n};\r\n\r\n/**\r\n * This function stores a token in localStorage\r\n * @param token taks a token as the argument and stores it in localStorage\r\n */\r\nexport const set = (token: string): void =>\r\n  localStorage.setItem(tokenName, token);\r\n\r\n/**\r\n * Clears the current token stored in localStorage\r\n */\r\nexport const clear = (): void => localStorage.removeItem(tokenName);\r\n\r\n/**\r\n * Local storage handlers for user info\r\n */\r\nexport const getUser = (): Auth.IUser | undefined =>\r\n  JSON.parse(localStorage.getItem(userStorageName) ?? 'null') ?? undefined;\r\nexport const setUser = (user: Auth.IUser): void =>\r\n  localStorage.setItem(userStorageName, JSON.stringify(user));\r\nexport const clearUser = (): void => localStorage.removeItem(userStorageName);\r\nexport interface DecodedToken {\r\n  exp: number;\r\n  iat: number;\r\n}\r\n","export const isValidImage = (image: File): boolean => {\r\n  const validTypes = [\r\n    'image/jpeg',\r\n    'image/png',\r\n    'image/jpg',\r\n    'application/octet-stream',\r\n  ];\r\n  return validTypes.includes(image.type);\r\n};\r\n","export interface ILoginBody {\r\n  codename: string;\r\n  password: string;\r\n}\r\n\r\nexport interface IAuthResponse {\r\n  user: Omit<IUser, 'password'>;\r\n  token: string;\r\n}\r\n\r\nexport interface IUser {\r\n  id: number;\r\n  isValidated: boolean;\r\n  codename: string;\r\n  email: string;\r\n  roleId: number;\r\n  created_at: Date;\r\n  updated_at: Date;\r\n  firstname: string;\r\n  lastname: string;\r\n  parentEmail?: string;\r\n  age?: number;\r\n}\r\n\r\nexport enum Roles {\r\n  'user' = 1,\r\n  'teacher' = 2,\r\n  'admin' = 3,\r\n}\r\nexport interface SignupFormState extends Omit<ISignUpBody, 'age'> {\r\n  ageStr: string;\r\n  confirm: string;\r\n}\r\n\r\nexport interface ISignUpBody {\r\n  firstname: string;\r\n  lastname: string;\r\n  codename: string;\r\n  email: string;\r\n  password: string;\r\n  parentEmail: string;\r\n  age: number;\r\n}\r\n","import { axiosWithoutAuth } from '../axiosWithConfig';\r\nimport {\r\n  IAuthResponse,\r\n  ILoginBody,\r\n  ISignUpBody,\r\n  SignupFormState,\r\n} from './authTypes';\r\n\r\nexport const login = async (body: ILoginBody): Promise<IAuthResponse> => {\r\n  const { data } = await axiosWithoutAuth().post('/api/auth/login', body);\r\n  return data;\r\n};\r\n\r\nexport const signup = async (\r\n  credentials: ISignUpBody,\r\n): Promise<IAuthResponse> => {\r\n  const { data } = await axiosWithoutAuth().post(\r\n    'api/auth/register',\r\n    credentials,\r\n  );\r\n  return data;\r\n};\r\n\r\nexport const formatSignupBody = (formData: SignupFormState): ISignUpBody => {\r\n  const age = parseInt(formData.ageStr);\r\n  return {\r\n    email: formData.email,\r\n    firstname: formData.firstname,\r\n    lastname: formData.lastname,\r\n    parentEmail: age < 13 ? formData.parentEmail : formData.email,\r\n    password: formData.password,\r\n    codename: formData.codename,\r\n    age,\r\n  };\r\n};\r\n","import { axiosWithoutAuth } from '../axiosWithConfig';\r\nimport {\r\n  IAuthResponse,\r\n  ILoginBody,\r\n  ISignUpBody,\r\n  IUser,\r\n  Roles,\r\n} from './authTypes';\r\n\r\nexport const authorizeWithClever = async (\r\n  code: string,\r\n): Promise<CleverAuthResponseType> => {\r\n  const { data } = await axiosWithoutAuth().get(\r\n    `/api/auth/o/clever?code=${code}`,\r\n  );\r\n  return data;\r\n};\r\n\r\nexport const mergeAccounts = async (\r\n  body: ILoginBody,\r\n  cleverId: string,\r\n): Promise<IAuthResponse> => {\r\n  const { data } = await axiosWithoutAuth().post(\r\n    `/api/auth/o/clever/merge?cleverId=${cleverId}`,\r\n    body,\r\n  );\r\n  return data;\r\n};\r\n\r\nexport const signupWithClever = async (\r\n  body: Partial<ISignUpBody>,\r\n  roleId: number,\r\n  cleverId: string,\r\n): Promise<IAuthResponse> => {\r\n  const userType = roleId === Roles.user ? 'student' : Roles[roleId];\r\n  const params = new URLSearchParams({\r\n    userType,\r\n    cleverId,\r\n  });\r\n  const { data } = await axiosWithoutAuth().post(\r\n    `/api/auth/o/clever/signup?${params.toString()}`,\r\n    body,\r\n  );\r\n  return data;\r\n};\r\n\r\nexport const cleverButton = async (): Promise<{ url: string }> => {\r\n  const { data } = await axiosWithoutAuth().get('/api/auth/o/clever/button');\r\n  return data;\r\n};\r\n\r\ntype CleverAuthResponseType =\r\n  | {\r\n      actionType: 'SUCCESS';\r\n      roleId: Roles & number;\r\n      body: IAuthResponse;\r\n      cleverId: string;\r\n    }\r\n  | {\r\n      actionType: 'MERGE';\r\n      roleId: Roles & number;\r\n      body: IUser;\r\n      cleverId: string;\r\n    }\r\n  | {\r\n      actionType: 'NEW';\r\n      roleId: Roles & number;\r\n      body: ICleverStudent | ICleverTeacher;\r\n      cleverId: string;\r\n    };\r\n\r\ninterface ICleverStudent {\r\n  id: string;\r\n  email?: string;\r\n  name: { first: string; last: string; middle?: string };\r\n  grade: CleverGradeType;\r\n}\r\n\r\ninterface ICleverTeacher {\r\n  id: string;\r\n  email?: string;\r\n  name: { first: string; last: string; middle?: string };\r\n  sections: string[];\r\n}\r\n\r\ntype CleverSubjectType =\r\n  | 'english/language arts'\r\n  | 'math'\r\n  | 'science'\r\n  | 'social studies'\r\n  | 'language'\r\n  | 'homeroom/advisory'\r\n  | 'interventions/online learning'\r\n  | 'technology and engineering'\r\n  | 'PE and health'\r\n  | 'arts and music'\r\n  | 'other'\r\n  | '';\r\n\r\ntype CleverGradeType =\r\n  | '1'\r\n  | '2'\r\n  | '3'\r\n  | '4'\r\n  | '5'\r\n  | '6'\r\n  | '7'\r\n  | '8'\r\n  | '9'\r\n  | '10'\r\n  | '11'\r\n  | '12'\r\n  | '13'\r\n  | 'PreKindergarten'\r\n  | 'TransitionalKindergarten'\r\n  | 'Kindergarten'\r\n  | 'InfantToddler'\r\n  | 'Preschool'\r\n  | 'PostGraduate'\r\n  | 'Ungraded'\r\n  | 'Other'\r\n  | '';\r\n","import { axiosWithAuth } from '../axiosWithConfig';\r\nimport { ISectionEnumData, ISectionWithRumbles } from '../Sections';\r\n\r\nexport const getUserInfo = async (): Promise<{\r\n  enumData: ISectionEnumData;\r\n  sections: ISectionWithRumbles[];\r\n}> => {\r\n  const { data } = await axiosWithAuth().get('/api/rumble/');\r\n  return data;\r\n};\r\n","import React from 'react';\r\nimport { RegisterOptions, UseFormMethods } from 'react-hook-form';\r\n\r\nconst Checkbox = ({\r\n  id,\r\n  name,\r\n  label,\r\n  register,\r\n  rules = {},\r\n  errors = {},\r\n  ...rest\r\n}: CheckboxProps): React.ReactElement => {\r\n  return (\r\n    <div className={`checkbox${errors[name] ? ' error' : ''}`}>\r\n      <label htmlFor={id}>\r\n        <input\r\n          id={id}\r\n          name={name}\r\n          type=\"checkbox\"\r\n          ref={register && register(rules)}\r\n          autoComplete=\"off\"\r\n          {...rest}\r\n        />\r\n        {label}\r\n      </label>\r\n      {errors[name] && (\r\n        <div className=\"message\">\r\n          <span className=\"red\">*</span> {errors[name].message}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface CheckboxProps extends React.InputHTMLAttributes<HTMLInputElement> {\r\n  id: string;\r\n  name: string;\r\n  label: React.ReactElement;\r\n  register: UseFormMethods['register'];\r\n  rules?: RegisterOptions;\r\n  errors?: UseFormMethods['errors'];\r\n}\r\n\r\nexport default Checkbox;\r\n","import React from 'react';\r\nimport { RegisterOptions, UseFormMethods } from 'react-hook-form';\r\nimport { Select } from '../';\r\nimport { Checkbox } from '../Checkbox';\r\n\r\nconst CheckboxGroup = ({\r\n  options = [],\r\n  errors = {},\r\n  id,\r\n  name,\r\n  register,\r\n  rules,\r\n  defaultValue,\r\n  ...props\r\n}: ICheckboxGroupProps): React.ReactElement => {\r\n  return (\r\n    <div className=\"checkbox-group-wrapper\">\r\n      <div className=\"checkbox-group-container\">\r\n        <fieldset>\r\n          {options.map((o, i) => (\r\n            <Checkbox\r\n              key={o.value}\r\n              id={`${id}-${o.value}`}\r\n              label={<div>{o.label}</div>}\r\n              name={`${name}[${i}]`}\r\n              register={register}\r\n              rules={rules}\r\n              defaultChecked={defaultValue === o.value}\r\n              {...props}\r\n            />\r\n          ))}\r\n        </fieldset>\r\n      </div>\r\n      {errors[name] && <div className=\"errors\">{errors[name].message}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface ICheckboxGroupProps\r\n  extends React.InputHTMLAttributes<HTMLInputElement> {\r\n  id: string;\r\n  name: string;\r\n  options?: Select.IOption[];\r\n  register: UseFormMethods['register'];\r\n  rules?: RegisterOptions;\r\n  errors?: UseFormMethods['errors'];\r\n}\r\n\r\nexport default CheckboxGroup;\r\n","import { atom } from 'recoil';\r\nimport { Auth } from '../../api';\r\n\r\nexport const authToken = atom<string | undefined>({\r\n  key: 'authToken',\r\n  default: undefined,\r\n});\r\n\r\nexport const user = atom<Auth.IUser | undefined>({\r\n  key: 'currentUser',\r\n  default: undefined,\r\n});\r\n\r\nexport const logoutModalOpen = atom<boolean>({\r\n  key: 'isLogoutModalOpen',\r\n  default: false,\r\n});\r\n\r\nexport const cleverLoginButtonURL = atom<string | undefined>({\r\n  key: 'cleverLoginButtonURL',\r\n  default: undefined,\r\n});\r\n\r\nexport const loadingCleverLoginButtonURL = atom<boolean>({\r\n  key: 'loadingCleverLoginButtonURL',\r\n  default: false,\r\n});\r\n","import { atom } from 'recoil';\r\n\r\nexport const isLogin = atom<boolean>({\r\n  key: 'authFormIsLogin',\r\n  default: true,\r\n});\r\n","import { DefaultValue, selector } from 'recoil';\r\nimport { Auth } from '../../api';\r\nimport { token } from '../../utils';\r\nimport { authToken, user } from './authAtoms';\r\n\r\nexport const isLoggedIn = selector<Auth.IAuthResponse | undefined>({\r\n  key: 'loginSelector',\r\n  get: ({ get }) => {\r\n    const curUser = get(user);\r\n    const curToken = get(authToken);\r\n    if (curToken && curUser) return { token: curToken, user: curUser };\r\n  },\r\n  set: ({ set }, newValue) => {\r\n    // Typechecking\r\n    if (\r\n      !(newValue instanceof DefaultValue) &&\r\n      typeof newValue === 'object' &&\r\n      Reflect.has(newValue, 'token') &&\r\n      Reflect.has(newValue, 'user') &&\r\n      typeof newValue.user === 'object'\r\n    ) {\r\n      // Persist the user's info in localStorage\r\n      token.set(newValue.token);\r\n      token.setUser(newValue.user);\r\n    }\r\n\r\n    const t = token.get();\r\n    const u = token.getUser();\r\n    if (u && t) {\r\n      // Persist that user's info in recoil state\r\n      set(authToken, t);\r\n      set(user, u);\r\n    }\r\n  },\r\n});\r\n","import { atom } from 'recoil';\r\nimport { Rumbles, Sections, Students, Submissions } from '../../api';\r\n\r\nexport const student = atom<Students.IStudentWithSubmissions | undefined>({\r\n  key: 'currentStudentView',\r\n  default: undefined,\r\n});\r\n\r\nexport const section = atom<Sections.ISectionWithRumbles | undefined>({\r\n  key: 'currentSectionView',\r\n  default: undefined,\r\n});\r\n\r\nexport const sub = atom<Submissions.ISubItem | undefined>({\r\n  key: 'currentSubView',\r\n  default: undefined,\r\n});\r\n\r\nexport const rumble = atom<Rumbles.IRumbleWithSectionInfo | undefined>({\r\n  key: 'currentRumbleView',\r\n  default: undefined,\r\n});\r\n\r\nexport const hasSubmitted = atom<boolean>({\r\n  key: 'currentUserHasSubmitted',\r\n  default: false,\r\n});\r\n","import { atom } from 'recoil';\r\nimport { Select } from '../../components/common';\r\n\r\nexport const grades = atom<Select.IOption[] | undefined>({\r\n  key: 'gradeDropdownOptions',\r\n  default: undefined,\r\n});\r\n\r\nexport const subjects = atom<Select.IOption[] | undefined>({\r\n  key: 'subjectDropdownOptions',\r\n  default: undefined,\r\n});\r\n","import { atom } from 'recoil';\r\n\r\nexport const isOpen = atom({\r\n  key: 'inviteModalIsOpen',\r\n  default: false,\r\n});\r\n","import { atom } from 'recoil';\r\nimport { IPrompt, IPromptInQueue } from '../../api/Prompts';\r\n\r\nexport const queue = atom<IPromptInQueue[] | undefined>({\r\n  key: 'promptQueue',\r\n  default: undefined,\r\n});\r\n\r\nexport const list = atom<IPrompt[]>({\r\n  key: 'promptList',\r\n  default: [],\r\n});\r\n\r\nexport const customList = atom<IPromptInQueue[]>({\r\n  key: 'customPromptList',\r\n  default: [],\r\n});\r\n\r\nexport const promptOffset = atom({\r\n  key: 'promptOffset',\r\n  default: 0,\r\n});\r\n\r\nexport const currentPrompt = atom<IPrompt | null>({\r\n  key: 'currentPrompt',\r\n  default: null,\r\n});\r\n","import { selector } from 'recoil';\r\nimport { authToken, user } from './authState';\r\n\r\nexport const reset = selector<undefined>({\r\n  key: 'clearRecoilState',\r\n  get: () => undefined,\r\n  set: ({ reset }) => {\r\n    reset(authToken);\r\n    reset(user);\r\n  },\r\n});\r\n","import { atom } from 'recoil';\r\nimport { IRumbleWithSectionInfo } from '../../api/Rumbles';\r\n\r\nexport const list = atom<IRumbleWithSectionInfo[]>({\r\n  key: 'rumbleList',\r\n  default: [],\r\n});\r\n","import { atom } from 'recoil';\r\nimport { Sections } from '../../api';\r\n\r\nexport const list = atom<Sections.ISectionWithRumbles[]>({\r\n  key: 'sectionList',\r\n  default: [],\r\n});\r\n","import { DefaultValue, selector } from 'recoil';\r\nimport { Rumbles } from '../../api';\r\nimport * as sections from '../sectionState';\r\nimport { list } from './rumbleAtoms';\r\n\r\nexport const addRumbles = selector<Rumbles.IRumbleWithSectionInfo[]>({\r\n  key: 'addRumblesToState',\r\n  get: ({ get }) => get(list),\r\n  set: ({ set, get }, newValue) => {\r\n    if (newValue instanceof DefaultValue) return;\r\n    console.log({ rumbles: newValue });\r\n    const rumbleList = get(list);\r\n    const sectionList = get(sections.list);\r\n\r\n    set(list, [...rumbleList, ...newValue]);\r\n    set(\r\n      sections.list,\r\n      sectionList.map((sec) => ({\r\n        ...sec,\r\n        rumbles: [\r\n          ...sec.rumbles,\r\n          ...newValue.filter((rum) => rum.sectionId === sec.id),\r\n        ],\r\n      })),\r\n    );\r\n  },\r\n});\r\n","import { atom } from 'recoil';\r\nimport { Students } from '../../api';\r\n\r\nexport const list = atom<Students.IStudentWithSubmissions[] | undefined>({\r\n  key: 'studentList',\r\n  default: undefined,\r\n});\r\n","import React, { useEffect } from 'react';\r\nimport { useRecoilState } from 'recoil';\r\nimport { Auth } from '../../../api';\r\nimport cleverLogo from '../../../assets/img/clever-square-icon.png';\r\nimport { auth } from '../../../state';\r\n\r\n/** Defaults to Login, pass the `signup` attribute to change text */\r\nconst CleverButton = ({\r\n  signup = false,\r\n}: {\r\n  signup?: boolean;\r\n}): React.ReactElement => {\r\n  const [loading, setIsLoading] = useRecoilState(\r\n    auth.loadingCleverLoginButtonURL,\r\n  );\r\n  const [url, setUrl] = useRecoilState(auth.cleverLoginButtonURL);\r\n\r\n  useEffect(() => {\r\n    if (!loading && !url) {\r\n      Auth.cleverButton()\r\n        .then((res) => {\r\n          setUrl(res.url);\r\n          setIsLoading(false);\r\n        })\r\n        .catch((err) => console.log({ err }));\r\n    }\r\n  }, [loading]);\r\n\r\n  const openClever = () => {\r\n    if (url) window.location.assign(url);\r\n  };\r\n\r\n  return (\r\n    <button\r\n      className=\"clever-button\"\r\n      onClick={openClever}\r\n      disabled={loading || !url}\r\n    >\r\n      {loading || !url ? (\r\n        <p>Loading Clever Sign On</p>\r\n      ) : (\r\n        <>\r\n          <img src={cleverLogo} alt=\"Clever Company Logo\" />\r\n          <p>{signup ? 'Sign Up' : 'Log In'} with Clever</p>\r\n        </>\r\n      )}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default CleverButton;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJ3SURBVHgBrVZNaBNBGH0zm92khopRtGJIicXSNmC0BZWIP0gVPIngSaEXD3r0JOhF8OcgPYsgeFDrwYOIPdiDoYha/xCLbSjxYn9EpLHaRo2N2d3ZcSarru1m06TJg4VlZ+a9mfm+731LuMDohIXUuAXd5KgHNB/B9nYFrWECkp5i/NRVHSarD/lf+BSg94QfNDls1p1cwmTAk1EGmi9UtQ4+cXyFkorm5gscvqUm+VWCHR0U+7b6EG8hWBW0yadnOcanLTx+y/BohIFZHhsqR74+RHDmmIrNUcU9tpqIR8HOmILDuyxcvK0jM+e+aupFHllL0HvS7yKXO+WLeDqaKXr2q6jqBGePagivce56TKRy36CByQyHKjTb/5A2ryP4OMNx5b5RucDBbQraIs7hkm8YLt/RF8z59JVhKMVwKOHDq3cMvwxeuUB3p/N5Jstx7UHp3ekmcPepiXJwxSCgAZvCztW8TDPM/Vh+nbgEVq4gaGxwBKYytRWhS0BmyP85TSnqK5D9yZHNObuOt9Sm4FptiJilJpwj2K7oLRIMkOoEJPqfsX/vmkiocz0amkJuomgTwaXjKo7s9jaEkiOpSYbkMMOBLruKN4iCu3k6gEHhO2NirEEjiEUpEjFa9Kr4RgWhRoLrA0ZlAhKyMv1idE/cFlFVuwDlsxgyYrPfS2eb5+Xm8hwXhIH1JU3Ml7H0L984zt/ScW+odMGVdVOZsjceGhh4bSIhLLstoiDYYDeT3Dww8p7hRdoq+r4XluwHEp+FDfc/l4FnqBY0oFXWnZYDyU33iiDWWq2lINtqd6cCIn9b0h+soqkVDNQFMnW7Wim2CBf4DYH+2WQdejAlAAAAAElFTkSuQmCC\"","import React, { useEffect, useState } from 'react';\r\nimport { cookie } from '../../../utils';\r\n\r\nconst CookiePopup = (): React.ReactElement => {\r\n  const [isShowing, setIsShowing] = useState(false);\r\n  const [isChecked, setIsChecked] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const hideCookie = cookie.get();\r\n    setIsChecked(hideCookie);\r\n    setIsShowing(!hideCookie);\r\n  }, []);\r\n\r\n  const toggleCheck = () =>\r\n    setIsChecked((c) => {\r\n      c ? cookie.clear() : cookie.set();\r\n      return !c;\r\n    });\r\n  const closePopup = () => setIsShowing(false);\r\n\r\n  return isShowing ? (\r\n    <div className=\"cookie-popup\">\r\n      <div className=\"popup-content\">\r\n        <h3>Cookie Policy</h3>\r\n        <p>\r\n          This website stores data such as cookies to enable necessary site\r\n          functionality and analytics. By remaining on this website you indicate\r\n          your consent.\r\n        </p>\r\n        <div className=\"popup-bottom\">\r\n          <label>\r\n            <input type=\"checkbox\" checked={isChecked} onChange={toggleCheck} />{' '}\r\n            Don&apos;t show again\r\n          </label>\r\n          <button onClick={closePopup}>Okay</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <></>\r\n  );\r\n};\r\n\r\nexport default CookiePopup;\r\n","import React from 'react';\r\n\r\n/**\r\n * Could Not Load will help us render consistent error messages throughout the application.\r\n * @param error The error the be loaded for the component, which in our case will be a message.\r\n * @example \"Your are not currenly in a section\".\r\n * @param className Class Name will allow us to style freely based on the could not load error.\r\n */\r\n\r\nconst CouldNotLoad = ({\r\n  error,\r\n  className,\r\n}: CouldNotLoadProps): React.ReactElement => {\r\n  return (\r\n    <div className={`could-not-load${className ? ' ' + className : ''}`}>\r\n      <div className=\"message\">{error}&#128557;</div>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface CouldNotLoadProps {\r\n  error: string;\r\n  className?: string;\r\n}\r\n\r\nexport default CouldNotLoad;\r\n","import React from 'react';\r\n\r\n//Renders Shit\r\n\r\nconst RenderCountDownBox = ({\r\n  hours,\r\n  minutes,\r\n  seconds,\r\n}: IRenderCountDownBoxProps): React.ReactElement => {\r\n  return (\r\n    <div className=\"count-down-wrapper\">\r\n      <h2>Rumble Timer</h2>\r\n      <div className=\"time-count\">\r\n        {hours < 10 && '0'}\r\n        {hours}:{minutes < 10 && '0'}\r\n        {minutes}:{seconds < 10 && '0'}\r\n        {seconds.toFixed(0)}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface IRenderCountDownBoxProps {\r\n  hours: number;\r\n  minutes: number;\r\n  seconds: number;\r\n}\r\n\r\nexport default RenderCountDownBox;\r\n","import { DateTime } from 'luxon';\r\nimport React, { useEffect, useState } from 'react';\r\nimport RenderCountDownBox from './RenderCountDownbox';\r\n\r\n//Does all the lifting\r\n\r\nconst CountDownContainer = ({\r\n  endTime,\r\n}: ICountDownContainerProps): React.ReactElement => {\r\n  const calculateTimeLeft = () => {\r\n    const difference = DateTime.fromISO(`${endTime}`).diffNow([\r\n      'hours',\r\n      'minutes',\r\n      'second',\r\n    ]);\r\n    let timeLeft = {\r\n      hours: 0,\r\n      min: 0,\r\n      sec: 0,\r\n    };\r\n    if (difference.valueOf() > 0) {\r\n      timeLeft = {\r\n        hours: difference.hours,\r\n        min: difference.minutes,\r\n        sec: difference.seconds,\r\n      };\r\n    }\r\n    return timeLeft;\r\n  };\r\n  const [timeLeft, setTimeLeft] = useState(calculateTimeLeft());\r\n  const [total, setTotal] = useState<number>();\r\n\r\n  const sum = (a: number, b: number, c: number) => {\r\n    const totalTime = a + b + c;\r\n    setTotal(totalTime);\r\n  };\r\n\r\n  useEffect(() => {\r\n    sum(timeLeft.hours, timeLeft.min, timeLeft.sec);\r\n    let timer: NodeJS.Timeout;\r\n    //Stops timer once it reaches 0\r\n    if (total !== 0) {\r\n      timer = setTimeout(() => {\r\n        // console.log(timeLeft);\r\n        setTimeLeft(calculateTimeLeft());\r\n      }, 1000);\r\n    }\r\n    return () => clearTimeout(timer);\r\n  });\r\n\r\n  return total ? (\r\n    <RenderCountDownBox\r\n      hours={timeLeft.hours}\r\n      minutes={timeLeft.min}\r\n      seconds={timeLeft.sec}\r\n    />\r\n  ) : (\r\n    <div className=\"count-down-end\">Rumble Over</div>\r\n  );\r\n};\r\n\r\ninterface ICountDownContainerProps {\r\n  endTime?: Date;\r\n}\r\n\r\nexport default CountDownContainer;\r\n","import React, { useMemo } from 'react';\r\nimport { HiUserCircle } from 'react-icons/hi';\r\nimport { useHistory } from 'react-router';\r\nimport { useRecoilValue } from 'recoil';\r\nimport { Auth } from '../../../api';\r\nimport { auth } from '../../../state';\r\n\r\nconst Header = (): React.ReactElement => {\r\n  const user = useRecoilValue(auth.user);\r\n  const userType = useMemo(\r\n    () => (user?.roleId === Auth.Roles.user ? 'student' : 'teacher'),\r\n    [user],\r\n  );\r\n  const { push } = useHistory();\r\n  const goToDashboard = () => push(`/dashboard/${userType}`);\r\n\r\n  return (\r\n    <header className=\"header-wrapper\">\r\n      <div className=\"header-container\">\r\n        <h2 onClick={goToDashboard}>Classroom Rumble</h2>\r\n        <div className=\"user-info\">\r\n          <p>Welcome back, {user?.firstname}</p>\r\n          <HiUserCircle />\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useState } from 'react';\r\nimport { RegisterOptions, UseFormMethods } from 'react-hook-form';\r\nimport { AiOutlineEye, AiOutlineEyeInvisible } from 'react-icons/ai';\r\n\r\nconst Input = ({\r\n  id,\r\n  name,\r\n  label,\r\n  register,\r\n  type = 'text',\r\n  rules = {},\r\n  errors = {},\r\n  showPassword,\r\n  placeholder = '',\r\n  ...rest\r\n}: InputProps): React.ReactElement => {\r\n  // store the type prop in state so that it can be changed to show/hide the value in a password input\r\n  const [inputType, setInputType] = useState(type);\r\n  /**\r\n   * Reveals or hides the value in a password input by toggling\r\n   * the 'type' on the input between 'text' and 'password'\r\n   */\r\n  const toggleHiddenPassword = (event: React.MouseEvent) => {\r\n    event.preventDefault();\r\n    setInputType((prevType) => (prevType === 'password' ? 'text' : 'password'));\r\n  };\r\n  return (\r\n    <div className={`form-input${errors[name] ? ' error' : ''}`}>\r\n      {label && <label htmlFor={id}>{label} :</label>}\r\n      <div className=\"input-field\">\r\n        <input\r\n          id={id}\r\n          name={name}\r\n          type={inputType}\r\n          ref={register && register(rules)}\r\n          autoComplete=\"off\"\r\n          autoCapitalize=\"off\"\r\n          placeholder={placeholder}\r\n          {...rest}\r\n        />\r\n        {showPassword ? (\r\n          <button\r\n            type=\"button\"\r\n            className=\"show-hide-btn\"\r\n            tabIndex={-1} // Prevents button from being selected while tabbing\r\n            onClick={toggleHiddenPassword}\r\n          >\r\n            {inputType === 'password' ? (\r\n              <AiOutlineEye />\r\n            ) : (\r\n              <AiOutlineEyeInvisible />\r\n            )}\r\n          </button>\r\n        ) : null}\r\n      </div>\r\n      {errors[name] && (\r\n        <div className=\"message\">\r\n          <span className=\"red\">*</span> {errors[name].message}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface InputProps\r\n  extends Omit<React.InputHTMLAttributes<HTMLInputElement>, 'type'> {\r\n  id: string;\r\n  name: string;\r\n  label?: string;\r\n  register: UseFormMethods['register'];\r\n  type?: string;\r\n  rules?: RegisterOptions;\r\n  errors?: UseFormMethods['errors'];\r\n  showPassword?: boolean;\r\n  placeholder?: string;\r\n}\r\n\r\nexport default Input;\r\n","import React from 'react';\r\n\r\nconst LandingPageWrapper = ({\r\n  children,\r\n}: React.PropsWithChildren<unknown>): React.ReactElement => (\r\n  <div className=\"landing-page-wrapper\">\r\n    <div className=\"splash\">\r\n      <div className=\"img-wrapper\" />\r\n    </div>\r\n    <div className=\"content\">{children}</div>\r\n  </div>\r\n);\r\n\r\nexport default LandingPageWrapper;\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nconst Dots = (): React.ReactElement => {\r\n  const [dots, setDots] = useState('');\r\n\r\n  useEffect(() => {\r\n    const dotTimer = setInterval(() => {\r\n      setDots((cur) => {\r\n        if (cur.length >= 3) return '';\r\n        else return cur + '.';\r\n      });\r\n    }, 500);\r\n    return () => {\r\n      clearInterval(dotTimer);\r\n    };\r\n  }, []);\r\n\r\n  return <span className=\"dots\">{dots}</span>;\r\n};\r\n\r\nexport default Dots;\r\n","import React from 'react';\r\nimport Dots from './Dots';\r\n\r\nconst Loader = ({ message = 'Loading' }: ILoaderProps): React.ReactElement => {\r\n  return (\r\n    <div className=\"loader-wrapper\">\r\n      <div className=\"loader-container\">\r\n        <p>\r\n          {message}\r\n          <Dots />\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface ILoaderProps {\r\n  message?: string;\r\n}\r\n\r\nexport default Loader;\r\n","import React, { useEffect } from 'react';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport { useRecoilState, useRecoilValue, useSetRecoilState } from 'recoil';\r\nimport { InitialState } from '../../../api';\r\nimport { Roles } from '../../../api/Auth';\r\nimport { IRumbleWithSectionInfo } from '../../../api/Rumbles';\r\nimport { ISectionWithRumbles } from '../../../api/Sections';\r\nimport { auth, enumData, rumbles, sections } from '../../../state';\r\n\r\nconst LoadUserData = (): React.ReactElement => {\r\n  const [isLogged, login] = useRecoilState(auth.isLoggedIn);\r\n  const user = useRecoilValue(auth.user);\r\n  const setRumbles = useSetRecoilState(rumbles.list);\r\n  const setSections = useSetRecoilState(sections.list);\r\n  const setGradeEnum = useSetRecoilState(enumData.grades);\r\n  const setSubjectEnum = useSetRecoilState(enumData.subjects);\r\n  const { push } = useHistory();\r\n  const { pathname } = useLocation();\r\n\r\n  useEffect(() => {\r\n    if (!isLogged) {\r\n      login(undefined);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (user)\r\n      InitialState.getUserInfo()\r\n        .then((res) => {\r\n          setRumbles(getRumblesFromSectionList(res.sections));\r\n          setSections(res.sections);\r\n          setGradeEnum(res.enumData.grades);\r\n          setSubjectEnum(res.enumData.subjects);\r\n\r\n          // Route to dashboard if they're not already on it\r\n          if (!pathname.includes('dashboard')) {\r\n            let userType = Roles[user.roleId];\r\n            if (userType === 'user') userType = 'student';\r\n            push(`/dashboard/${userType}`);\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n  }, [user]);\r\n\r\n  return <></>;\r\n};\r\n\r\nconst getRumblesFromSectionList = (sections: ISectionWithRumbles[]) => {\r\n  const rumbles: IRumbleWithSectionInfo[] = [];\r\n\r\n  for (const sec of sections) {\r\n    rumbles.push(\r\n      ...sec.rumbles.map((rumble) => ({\r\n        ...rumble,\r\n        sectionName: sec.name,\r\n        sectionId: sec.id,\r\n      })),\r\n    );\r\n  }\r\n  return rumbles;\r\n};\r\n\r\nexport default LoadUserData;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { MdClose } from 'react-icons/md';\r\n\r\nexport const Component = ({\r\n  component: Component,\r\n  closable = true,\r\n  centered = false,\r\n  visible,\r\n  setVisible,\r\n  className,\r\n  title = '',\r\n}: ModalProps): React.ReactElement => {\r\n  const [showContents, setShowContents] = useState(visible);\r\n\r\n  const closeModal = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!visible) setTimeout(() => setShowContents(false), 500);\r\n    else setShowContents(true);\r\n  }, [visible]);\r\n\r\n  return (\r\n    <div\r\n      className={`modal-wrapper${visible ? '' : ' hidden'}${\r\n        centered ? ' centered' : ''\r\n      }`}\r\n      onClick={closable ? () => setVisible(false) : () => null}\r\n    >\r\n      <div\r\n        className={`modal${className ? ' ' + className : ''}`}\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"modal-header\">\r\n          <div className=\"modal-title\">{title}</div>\r\n          {closable && (\r\n            <div className=\"close-button\" onClick={closeModal}>\r\n              <MdClose />\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"modal-content\">\r\n          {showContents && <Component closeModal={closeModal} />}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface ModalProps {\r\n  component: React.ComponentType<ModalComponentProps>;\r\n  closable?: boolean;\r\n  centered?: boolean;\r\n  visible: boolean;\r\n  setVisible: React.Dispatch<boolean>;\r\n  className?: string;\r\n  title?: string;\r\n}\r\n\r\nexport interface ModalComponentProps {\r\n  closeModal: () => void;\r\n}\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useRecoilState, useSetRecoilState } from 'recoil';\r\nimport { auth, reset } from '../../../state';\r\nimport { token } from '../../../utils';\r\nimport { Modal } from '../Modal';\r\n\r\nconst LogoutPopup = (): React.ReactElement => {\r\n  const [isVisible, setIsVisible] = useRecoilState(auth.logoutModalOpen);\r\n  return (\r\n    <Modal.Component\r\n      component={LogoutComponent}\r\n      setVisible={setIsVisible}\r\n      visible={isVisible}\r\n      centered\r\n    />\r\n  );\r\n};\r\n\r\nconst LogoutComponent = (\r\n  props: Modal.ModalComponentProps,\r\n): React.ReactElement => {\r\n  const { push } = useHistory();\r\n  const resetRecoilState = useSetRecoilState(reset);\r\n  const logout = () => {\r\n    resetRecoilState(undefined);\r\n    token.clear();\r\n    token.clearUser();\r\n    push('/');\r\n    props.closeModal();\r\n  };\r\n  return (\r\n    <div className=\"logout-popup\">\r\n      <p>Are you sure you&apos;d like to sign out?</p>\r\n      <div className=\"button-row\">\r\n        <button onClick={logout}>Yes</button>\r\n        <button className=\"no-button\" onClick={props.closeModal}>\r\n          No\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LogoutPopup;\r\n","import React, { useMemo } from 'react';\r\nimport {\r\n  Redirect,\r\n  Route,\r\n  RouteComponentProps,\r\n  RouteProps,\r\n} from 'react-router-dom';\r\nimport { useRecoilValue } from 'recoil';\r\nimport { Auth } from '../../../api';\r\nimport { auth } from '../../../state';\r\nimport { token } from '../../../utils';\r\n\r\n/**\r\n * The `PrivateRoute` component requires a user to be logged in to access\r\n * a route. The route can be restricted by user roles by passing in a\r\n * `userTypes` prop.\r\n *\r\n * You can control which users have access by passing a list of authorized\r\n * roles to the `userTypes` prop. I recomment using the `Roles` enum that's\r\n * exported from the `Auth` api module as follows:\r\n *\r\n * ```ts\r\n * userTypes={[Auth.Roles.user, Auth.Roles.admin]}\r\n * ```\r\n *\r\n * `user`: able to be accessed by students\\\r\n * `teacher`: able to be accessed by teachers\\\r\n * `admin`: able to be accessed by admins\r\n *\r\n * > Note: Admins are configured to have access to every resource and do not\r\n */\r\nconst PrivateRoute = ({\r\n  component: Component,\r\n  ...rest\r\n}: PrivateRouteProps): React.ReactElement => {\r\n  const isLogged = useRecoilValue(auth.isLoggedIn);\r\n  const canAccess = useMemo(() => {\r\n    // User CAN'T access if they're not logged in (no token stored)\r\n    const tokenFromLocalStorage = token.get();\r\n    if (!tokenFromLocalStorage) return false;\r\n\r\n    // User CAN access if route is unrestricted by type\r\n    if (rest.userType === undefined) return true;\r\n\r\n    // Otherwise, user must be admin OR match given type\r\n    const type = token.getUser()?.roleId;\r\n    return type === Auth.Roles.admin || rest.userType === type;\r\n  }, [isLogged]);\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        canAccess ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\ninterface PrivateRouteProps extends RouteProps {\r\n  component: React.ComponentType<RouteComponentProps>;\r\n  userType?: Auth.Roles & number;\r\n}\r\n\r\nexport default PrivateRoute;\r\n","import { DateTime } from 'luxon';\r\nimport React, { useMemo } from 'react';\r\nimport { CountDown } from '../CountDown';\r\n\r\n/**\r\n * If a student makes it into a rumble there will be a prompt and countdown timer.\r\n * @param Prompt is a string that is pulled directly from a rumb;e.\r\n * @returns a submissions form to receive the users image.\r\n */\r\n\r\nconst RenderPromptBox = ({\r\n  prompt,\r\n  endTime,\r\n  isTeacher,\r\n  startRumble,\r\n}: IRenderPromptBoxProps): React.ReactElement => {\r\n  const [date, weekday] = useFormatDate(`${endTime || ''}`);\r\n  // const [date, weekday] = useFormatDate('');\r\n  return (\r\n    <div className=\"prompt-info-wrapper\">\r\n      <div className=\"prompt-info-container\">\r\n        <div className=\"prompt-info-content\">\r\n          {endTime && (\r\n            <div className=\"end-time-large\">\r\n              <div className=\"day\">{weekday}</div>\r\n              <div className=\"date\">{date}</div>\r\n            </div>\r\n          )}\r\n          <div className=\"prompt-text\">\r\n            <h2>Prompt</h2>\r\n            {date && weekday && (\r\n              <div className=\"end-time-small\">\r\n                {date} {weekday}\r\n              </div>\r\n            )}\r\n            <p>{prompt}</p>\r\n          </div>\r\n          {/* THIS NEEDS WORK */}\r\n          {isTeacher && !endTime ? (\r\n            <div className=\"start-rumble-button\">\r\n              <button onClick={startRumble}>Start Rumble</button>\r\n            </div>\r\n          ) : !endTime ? (\r\n            //back to studentdashboard\r\n            <>Redirecting ... </>\r\n          ) : (\r\n            <div>\r\n              <CountDown endTime={endTime} />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst useFormatDate = (\r\n  date: string | undefined,\r\n): [date: string | undefined, weekday: string | undefined] => {\r\n  const luxonDate = useMemo(() => DateTime.fromISO(date || ''), [date]);\r\n\r\n  return luxonDate.isValid\r\n    ? [\r\n        luxonDate.toLocaleString(DateTime.DATE_SHORT),\r\n        luxonDate.toLocaleString({ weekday: 'long' }),\r\n      ]\r\n    : [undefined, undefined];\r\n};\r\n\r\ninterface IRenderPromptBoxProps {\r\n  prompt: string;\r\n  endTime?: Date;\r\n  isTeacher: boolean;\r\n  startRumble?: () => void;\r\n}\r\n\r\nexport default RenderPromptBox;\r\n","import React, { useCallback, useEffect, useState } from 'react';\r\nimport { useRecoilValue } from 'recoil';\r\nimport { Prompts, Rumbles } from '../../../api';\r\nimport { current } from '../../../state';\r\nimport { CouldNotLoad } from '../CouldNotLoad';\r\nimport { Loader } from '../Loader';\r\nimport RenderPromptBox from './RenderPromptBox';\r\n\r\n/**\r\n * PromptBoxContainer will run a useEffect to check for the specific Rumbles prompt.\r\n */\r\n\r\nconst PromptBoxContainer = ({\r\n  prompt,\r\n  isTeacher = false,\r\n}: IPromptBoxContainerProps): React.ReactElement => {\r\n  const currentRumble = useRecoilValue(current.rumble);\r\n  const currentSection = useRecoilValue(current.section);\r\n  const [endTime, setEndTime] = useState(currentRumble?.end_time);\r\n  const [promptState, setPrompt] = useState<string | undefined>(prompt);\r\n  const [error, setError] = useState<null | string>(null);\r\n\r\n  /**\r\n   * This useEffect will run every where the PromptBox common component renders in order to pull the prompt related to that page. Whether we are in the student or teacher view.\r\n   */\r\n  useEffect(() => {\r\n    if (currentRumble && !prompt) {\r\n      Prompts.getPromptById(currentRumble.promptId)\r\n        .then((data) => {\r\n          console.log('Current Prompt: ', data);\r\n          setPrompt(data);\r\n        })\r\n        .catch((err) => {\r\n          console.log({ err });\r\n          setError('There is no prompt for this Rumble.');\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  const startRumble = useCallback(async (): Promise<void> => {\r\n    try {\r\n      if (currentRumble?.end_time) {\r\n        setEndTime(currentRumble.end_time);\r\n      } else {\r\n        const newEndTime = await Rumbles.startRumble(\r\n          currentRumble?.id || 0,\r\n          currentSection?.id || 0,\r\n        );\r\n        console.log({ newEndTime });\r\n        setEndTime(newEndTime);\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }, [currentRumble]);\r\n\r\n  return promptState ? (\r\n    <RenderPromptBox\r\n      prompt={promptState}\r\n      endTime={endTime}\r\n      isTeacher={isTeacher}\r\n      startRumble={isTeacher ? startRumble : undefined}\r\n    />\r\n  ) : error ? (\r\n    <CouldNotLoad error={error} />\r\n  ) : (\r\n    <Loader message=\"Loading prompt\" />\r\n  );\r\n};\r\n\r\ninterface IPromptBoxContainerProps {\r\n  prompt?: string;\r\n  isTeacher?: boolean;\r\n}\r\n\r\nexport default PromptBoxContainer;\r\n","import React from 'react';\r\nimport { Sections } from '../../../api';\r\n\r\nconst RenderSectionInfo = ({\r\n  grade,\r\n  subject,\r\n  openInviteModal,\r\n  section,\r\n  isTeacher,\r\n  studentName,\r\n}: IRenderSectionInfoProps): React.ReactElement => (\r\n  <div className=\"section-info-wrapper\">\r\n    <div className=\"section-info-container\">\r\n      <div className=\"content\">\r\n        <div className=\"content-item\">\r\n          <h3>Class Name</h3>\r\n          <h4>{section.name}</h4>\r\n        </div>\r\n        <div className=\"content-item\">\r\n          <h3>Grade</h3>\r\n          <h4>{grade}</h4>\r\n        </div>\r\n        <div className=\"content-item\">\r\n          <h3>Subject</h3>\r\n          <h4>{subject}</h4>\r\n        </div>\r\n        {studentName && (\r\n          <div className=\"content-item\">\r\n            <h3>Student Name</h3>\r\n            <h4>{studentName}</h4>\r\n          </div>\r\n        )}\r\n        {isTeacher && (\r\n          <button onClick={openInviteModal}>Invite Students</button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\ninterface IRenderSectionInfoProps {\r\n  section: Sections.ISectionWithRumbles;\r\n  openInviteModal: () => void;\r\n  grade: string;\r\n  subject: string;\r\n  isTeacher: boolean;\r\n  studentName?: string;\r\n}\r\n\r\nexport default RenderSectionInfo;\r\n","import React, { useMemo } from 'react';\r\nimport { useRecoilValue, useSetRecoilState } from 'recoil';\r\nimport { Sections } from '../../../api';\r\nimport { enumData, modals } from '../../../state';\r\nimport RenderSectionInfo from './RenderSectionInfo';\r\n\r\nconst SectionInfoContainer = ({\r\n  section,\r\n  isTeacher = false,\r\n  studentName,\r\n}: {\r\n  section: Sections.ISectionWithRumbles;\r\n  isTeacher?: boolean;\r\n  studentName?: string;\r\n}): React.ReactElement => {\r\n  const gradeEnum = useRecoilValue(enumData.grades);\r\n  const gradeValue = useMemo(() => {\r\n    const x = gradeEnum?.filter((x) => x.value === section?.gradeId)[0];\r\n    return x ? x.label : '';\r\n  }, [gradeEnum, section]);\r\n\r\n  const subjectEnum = useRecoilValue(enumData.subjects);\r\n  const subjectValue = useMemo(() => {\r\n    const x = subjectEnum?.filter((x) => x.value === section?.subjectId)[0];\r\n    return x ? x.label : '';\r\n  }, [subjectEnum, section]);\r\n\r\n  const setInviteOpen = useSetRecoilState(modals.invite.isOpen);\r\n  const openInviteModal = () => {\r\n    setInviteOpen(true);\r\n  };\r\n\r\n  return (\r\n    <RenderSectionInfo\r\n      isTeacher={isTeacher}\r\n      section={section}\r\n      openInviteModal={openInviteModal}\r\n      grade={gradeValue}\r\n      subject={subjectValue}\r\n      studentName={studentName}\r\n    />\r\n  );\r\n};\r\n\r\nexport default SectionInfoContainer;\r\n","export const emailRegex = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i;\r\nexport const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$/;\r\nexport const codenameRegex = /^[A-Za-z0-9]*$/;\r\nexport const uuidV5Regex = /^[0-9a-f]{8}-[0-9a-f]{4}-[5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\r\n","export const description =\r\n  'Share your stories with your classrom with our free daily story contest!';\r\n\r\nexport const title = 'Classroom Rumble - Story Squad';\r\n\r\nexport const twitterHandle = '@story_hq';\r\n\r\nexport const deployedUrl =\r\n  process.env.REACT_APP_DEPLOY_URL || 'http://contest.storysquad.app';\r\n","import React, { HTMLAttributes } from 'react';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { seoConfig } from '../../../config';\r\n\r\nconst SEO = ({\r\n  title,\r\n  description = seoConfig.description,\r\n  path = '',\r\n  meta = [],\r\n}: SEOProps): React.ReactElement => {\r\n  return (\r\n    <Helmet>\r\n      <title>{title ? `${title} - Classroom Rumble` : seoConfig.title}</title>\r\n      <meta property=\"og:title\" content={title} />\r\n      <meta name=\"twitter:title\" content={title} />\r\n\r\n      <meta name=\"description\" content={description} />\r\n      <meta property=\"og:description\" content={description} />\r\n      <meta name=\"twitter:description\" content={description} />\r\n\r\n      <meta property=\"og:type\" content=\"website\" />\r\n      <meta name=\"twitter:card\" content=\"summary\" />\r\n\r\n      <meta name=\"twitter:creator\" content={seoConfig.twitterHandle} />\r\n\r\n      <meta\r\n        property=\"og:image\"\r\n        content={seoConfig.deployedUrl + '/logo512.png'}\r\n      />\r\n      <meta\r\n        name=\"twitter:image\"\r\n        content={seoConfig.deployedUrl + '/logo512.png'}\r\n      />\r\n\r\n      {meta.map((props, i) => (\r\n        <meta key={i} {...props} />\r\n      ))}\r\n\r\n      <link rel=\"canonical\" href={seoConfig.deployedUrl + path} />\r\n    </Helmet>\r\n  );\r\n};\r\n\r\ninterface SEOProps {\r\n  title?: string;\r\n  description?: string;\r\n  path?: string;\r\n  meta?: HTMLAttributes<HTMLMetaElement>[];\r\n}\r\n\r\nexport default SEO;\r\n","import React, { HTMLAttributes } from 'react';\r\n\r\nconst TableBody = ({\r\n  children,\r\n  className,\r\n  ...props\r\n}: React.PropsWithChildren<\r\n  HTMLAttributes<HTMLDivElement>\r\n>): React.ReactElement => (\r\n  <div className={`table-body${className ? ' ' + className : ''}`} {...props}>\r\n    {children}\r\n  </div>\r\n);\r\n\r\nexport default TableBody;\r\n","import React, { HTMLAttributes } from 'react';\r\n\r\nconst TableCol = ({\r\n  children,\r\n  className,\r\n  ...props\r\n}: React.PropsWithChildren<\r\n  HTMLAttributes<HTMLDivElement>\r\n>): React.ReactElement => (\r\n  <div className={`table-col${className ? ' ' + className : ''}`} {...props}>\r\n    {children}\r\n  </div>\r\n);\r\n\r\nexport default TableCol;\r\n","import React, { HTMLAttributes } from 'react';\r\n\r\nconst TableHeader = ({\r\n  children,\r\n  className,\r\n  ...props\r\n}: React.PropsWithChildren<\r\n  HTMLAttributes<HTMLDivElement>\r\n>): React.ReactElement => (\r\n  <div className=\"table-header\">\r\n    <div\r\n      className={`row-wrapper${className ? ' ' + className : ''}`}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default TableHeader;\r\n","import React, { HTMLAttributes } from 'react';\r\n\r\nconst TableRow = ({\r\n  children,\r\n  className,\r\n  ...props\r\n}: React.PropsWithChildren<\r\n  HTMLAttributes<HTMLDivElement>\r\n>): React.ReactElement => (\r\n  <div className=\"table-row\">\r\n    <div\r\n      className={`row-wrapper${className ? ' ' + className : ''}`}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default TableRow;\r\n","export default __webpack_public_path__ + \"static/media/TOS.0ca4bf90.md\";","import React, { useEffect, useState } from 'react';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport TosMarkdown from '../../../assets/TOS.md';\r\n\r\nconst TermsOfService = (): React.ReactElement => {\r\n  const [tos, setTos] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetch(TosMarkdown)\r\n      .then((res) => res.text())\r\n      .then((text) => setTos(text))\r\n      .catch((err) => {\r\n        console.log('Cannot load ToS because ', { err });\r\n      });\r\n  }, []);\r\n  return (\r\n    <div className=\"tos\">\r\n      <div className=\"tos-wrapper\">\r\n        <ReactMarkdown>{tos ? tos : ''}</ReactMarkdown>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TermsOfService;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport { useSetRecoilState } from 'recoil';\r\nimport { Auth } from '../../../api';\r\nimport { Roles } from '../../../api/Auth';\r\nimport { auth } from '../../../state';\r\nimport { query, token } from '../../../utils';\r\n\r\n/**\r\n * The Clever redirect page, gets a token from Clever and sends it to\r\n * the backend, which trades it with the Clever API for user info.\r\n *\r\n * After the OAuth process, the backend returns the user's registration\r\n * state as pertains to our database and this component routes the user\r\n * to where they need to go.\r\n */\r\nconst CleverRedirectContainer = (): React.ReactElement => {\r\n  const { search } = useLocation();\r\n  const [code, setCode] = useState<undefined | string>();\r\n  const { push } = useHistory();\r\n  const login = useSetRecoilState(auth.isLoggedIn);\r\n\r\n  useEffect(() => {\r\n    token.clear();\r\n    if (!code) {\r\n      const params = query.parse<'code'>(search);\r\n      setCode(params.code);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (code) {\r\n      Auth.authorizeWithClever(code)\r\n        .then((res) => {\r\n          console.log({ res });\r\n          let params: URLSearchParams;\r\n          const userType =\r\n            res.roleId === Roles.user ? 'student' : Roles[res.roleId];\r\n          switch (res.actionType) {\r\n            case 'SUCCESS':\r\n              // On success, store token and push to correct dashboard\r\n              login(res.body);\r\n              push(`/dashboard/${userType}`);\r\n              break;\r\n            case 'MERGE':\r\n              // If the user has an account that can be merged, route to login\r\n              params = new URLSearchParams({\r\n                isMerge: 'true',\r\n                cleverId: '6001e942790e5a0fd643d7eb',\r\n                codename: res.body.codename,\r\n              });\r\n              push(`/login?${params.toString()}`);\r\n              break;\r\n            case 'NEW':\r\n              // If the user doesn't have account, sign up and link account\r\n              params = new URLSearchParams({\r\n                isNew: 'true',\r\n                cleverId: res.body.id,\r\n                roleId: `${res.roleId}`,\r\n                firstname: res.body.name.first,\r\n                lastname: res.body.name.last,\r\n              });\r\n              if (res.body.email) params.set('email', res.body.email);\r\n              push(`/signup?${params.toString()}`);\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, [code]);\r\n\r\n  return <></>;\r\n};\r\n\r\nexport default CleverRedirectContainer;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst RenderLandingPage = (): React.ReactElement => {\r\n  return (\r\n    <div className=\"landing-page\">\r\n      <h1>Classroom Rumble</h1>\r\n      <p>Welcome to Classroom Rumble!</p>\r\n      <div className=\"login-button\">\r\n        <Link to=\"/login\">Log In</Link>\r\n      </div>\r\n      <div className=\"signup-button\">\r\n        <Link to=\"/signup\">Sign Up</Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RenderLandingPage;\r\n","import React from 'react';\r\nimport RenderLandingPage from './RenderLandingPage';\r\n\r\nconst LandingPageContainer = (): React.ReactElement => {\r\n  return <RenderLandingPage />;\r\n};\r\n\r\nexport default LandingPageContainer;\r\n","import React from 'react';\r\nimport { SubmitHandler, useForm } from 'react-hook-form';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useSetRecoilState } from 'recoil';\r\nimport { Auth } from '../../../api';\r\nimport { auth } from '../../../state';\r\nimport { Input } from '../../common';\r\nimport { ILoginParams } from './loginTypes';\r\n\r\nconst LoginForm = ({\r\n  isMerge,\r\n  codename,\r\n  cleverId,\r\n}: ILoginParams): React.ReactElement => {\r\n  const { errors, register, handleSubmit, clearErrors, setError } = useForm();\r\n  const login = useSetRecoilState(auth.isLoggedIn);\r\n  const { push } = useHistory();\r\n\r\n  const onSubmit: SubmitHandler<Auth.ILoginBody> = async (\r\n    data,\r\n  ): Promise<void> => {\r\n    try {\r\n      let res: Auth.IAuthResponse;\r\n      if (isMerge) {\r\n        res = await Auth.mergeAccounts(data, cleverId as string);\r\n      } else {\r\n        res = await Auth.login(data);\r\n      }\r\n      login(res);\r\n      clearErrors();\r\n      push(`/dashboard/${Auth.Roles[res.user.roleId]}`);\r\n    } catch (err) {\r\n      console.log({ err });\r\n      let message: string;\r\n      if (err.response?.data) {\r\n        message = err.response.data.error;\r\n      } else {\r\n        message = 'An unknown error occurred. Please try again.';\r\n      }\r\n      setError('form', { type: 'manual', message });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form className=\"auth-form\" onSubmit={handleSubmit(onSubmit)}>\r\n      <Input\r\n        label=\"Codename\"\r\n        name=\"codename\"\r\n        register={register}\r\n        id=\"login-codename\"\r\n        errors={errors}\r\n        placeholder=\"Enter your codename\"\r\n        rules={{\r\n          required: 'Codename is required!',\r\n        }}\r\n        defaultValue={codename}\r\n      />\r\n      <Input\r\n        label=\"Password\"\r\n        name=\"password\"\r\n        register={register}\r\n        id=\"login-password\"\r\n        errors={errors}\r\n        type=\"password\"\r\n        placeholder=\"Enter your password\"\r\n        rules={{ required: 'Password is required!' }}\r\n      />\r\n      <input\r\n        className=\"submit\"\r\n        type=\"submit\"\r\n        value={isMerge ? 'Merge' : 'Log In'}\r\n      />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { CleverButton } from '../../common';\r\nimport LoginForm from './LoginForm';\r\nimport { ILoginParams } from './loginTypes';\r\n\r\nconst RenderLoginPage = ({\r\n  ...loginProps\r\n}: ILoginParams): React.ReactElement => {\r\n  return (\r\n    <div className=\"login-page auth-page\">\r\n      <h1>Classroom Rumble</h1>\r\n      {loginProps.isMerge ? (\r\n        <p>Log in to link your Clever and Story Squad accounts</p>\r\n      ) : (\r\n        <>\r\n          <CleverButton />\r\n          <p className=\"small\">OR</p>\r\n          <p>Log in using email address</p>\r\n        </>\r\n      )}\r\n      <LoginForm {...loginProps} />\r\n      <p className=\"small\">\r\n        Don&apos;t have an account yet? <Link to=\"/signup\">Sign Up Here</Link>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RenderLoginPage;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { query } from '../../../utils';\r\nimport RenderLoginPage from './RenderLoginPage';\r\n\r\nconst LoginPageContainer = (): React.ReactElement => {\r\n  const { search } = useLocation();\r\n\r\n  const [isMerge, setIsMerge] = useState(false);\r\n  const [codename, setCodename] = useState<string>();\r\n  const [cleverId, setCleverId] = useState<string>();\r\n\r\n  useEffect(() => {\r\n    // Only parse the query if there is one\r\n    if (search?.includes('?')) {\r\n      const params = query.parse<'isMerge' | 'codename' | 'cleverId'>(search);\r\n      setIsMerge(params.isMerge === 'true');\r\n      setCodename(params.codename);\r\n      setCleverId(params.cleverId);\r\n    }\r\n  }, [search]);\r\n\r\n  return (\r\n    <RenderLoginPage\r\n      isMerge={isMerge}\r\n      codename={codename}\r\n      cleverId={cleverId}\r\n    />\r\n  );\r\n};\r\n\r\nexport default LoginPageContainer;\r\n","import React from 'react';\r\nimport { SubmitHandler, useForm } from 'react-hook-form';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useSetRecoilState } from 'recoil';\r\nimport { Auth } from '../../../api';\r\nimport { patterns } from '../../../config';\r\nimport { auth } from '../../../state';\r\nimport { Checkbox, Input } from '../../common';\r\nimport { ISigninProps } from './signupTypes';\r\n\r\nconst SignupForm = ({\r\n  isNew,\r\n  roleId,\r\n  cleverId,\r\n  email,\r\n  firstname,\r\n  lastname,\r\n}: ISigninProps): React.ReactElement => {\r\n  const {\r\n    errors,\r\n    register,\r\n    handleSubmit,\r\n    clearErrors,\r\n    watch,\r\n    setError,\r\n  } = useForm({\r\n    mode: 'onChange',\r\n  });\r\n  const login = useSetRecoilState(auth.isLoggedIn);\r\n  const { push } = useHistory();\r\n\r\n  const onSubmit: SubmitHandler<Auth.SignupFormState> = async (\r\n    data,\r\n  ): Promise<void> => {\r\n    try {\r\n      const credentials = Auth.formatSignupBody(data);\r\n      let res: Auth.IAuthResponse;\r\n      if (isNew) {\r\n        res = await Auth.signupWithClever(\r\n          credentials,\r\n          roleId as number,\r\n          cleverId as string,\r\n        );\r\n      } else {\r\n        res = await Auth.signup(credentials);\r\n      }\r\n      login(res);\r\n      clearErrors();\r\n      push(`/dashboard/${Auth.Roles[res.user.roleId]}`);\r\n    } catch (err) {\r\n      console.log({ err });\r\n      let message: string;\r\n      if (err.response?.data) {\r\n        message = err.response.data.error;\r\n      } else {\r\n        message = 'An unknown error occurred. Please try again.';\r\n      }\r\n      setError('form', { type: 'manual', message });\r\n    }\r\n  };\r\n  return (\r\n    <form className=\"auth-form\" onSubmit={handleSubmit(onSubmit)}>\r\n      <Input\r\n        id=\"firstname\"\r\n        name=\"firstname\"\r\n        label=\"First Name\"\r\n        errors={errors}\r\n        register={register}\r\n        rules={{\r\n          required: 'First name is required!',\r\n        }}\r\n        placeholder=\"Your first name\"\r\n        defaultValue={firstname}\r\n      />\r\n      <Input\r\n        id=\"lastname\"\r\n        name=\"lastname\"\r\n        label=\"Last Name\"\r\n        errors={errors}\r\n        register={register}\r\n        rules={{\r\n          required: 'Last name is required!',\r\n        }}\r\n        placeholder=\"Your last name\"\r\n        defaultValue={lastname}\r\n      />\r\n      <Input\r\n        id=\"age\"\r\n        name=\"ageStr\"\r\n        label=\"Age\"\r\n        errors={errors}\r\n        register={register}\r\n        rules={{\r\n          required: 'Age is required!',\r\n          validate: (value) => !!parseInt(value) || 'Age must be a number!',\r\n        }}\r\n        placeholder=\"Enter your age\"\r\n      />\r\n      {/* If the user is younger than 13, require a parent email */}\r\n      {parseInt(watch('ageStr')) < 13 && (\r\n        <Input\r\n          id=\"parentEmail\"\r\n          name=\"parentEmail\"\r\n          label=\"Parent Email\"\r\n          errors={errors}\r\n          register={register}\r\n          rules={{\r\n            validate: {\r\n              // required field if the entered age is less than 13\r\n              required: (value) => {\r\n                if (parseInt(watch('ageStr')) < 13)\r\n                  return value.length > 1 || 'Parent email is required!';\r\n                else return true;\r\n              },\r\n              // checks the email and parent email to make sure they are different\r\n              differentEmail: (value) => {\r\n                return (\r\n                  value !== watch('email') ||\r\n                  'Parent email must be different than email!'\r\n                );\r\n              },\r\n            },\r\n            pattern: {\r\n              // ensures the entered parent email string matches a valid email address pattern\r\n              value: patterns.emailRegex,\r\n              message: 'Please enter a valid email address.',\r\n            },\r\n          }}\r\n          placeholder=\"ParentSuperWriter@storysquad.org\"\r\n        />\r\n      )}\r\n      <Input\r\n        id=\"codename\"\r\n        name=\"codename\"\r\n        label=\"Codename\"\r\n        errors={errors}\r\n        register={register}\r\n        rules={{\r\n          required: 'Codename is required!',\r\n          validate: {\r\n            checkCharacters: (value) => {\r\n              return (\r\n                // ensures the user's entered codename contains only allowed characters\r\n                patterns.codenameRegex.test(value) ||\r\n                'Only letters and numbers are allowed.'\r\n              );\r\n            },\r\n            checkLength: (value) => {\r\n              return value.length < 15 || 'Cannot be more than 15 characters.';\r\n            },\r\n          },\r\n        }}\r\n        placeholder=\"Your secret codename!\"\r\n      />\r\n      <Input\r\n        label=\"Email\"\r\n        name=\"email\"\r\n        register={register}\r\n        id=\"signup-email\"\r\n        errors={errors}\r\n        placeholder=\"Enter your email\"\r\n        rules={{\r\n          required: 'Email is required!',\r\n          validate: {\r\n            regex: (value) =>\r\n              patterns.emailRegex.test(value) || 'Must be a valid email',\r\n          },\r\n        }}\r\n        defaultValue={email}\r\n      />\r\n      <Input\r\n        id=\"signupPassword\"\r\n        name=\"password\"\r\n        label=\"Password\"\r\n        type=\"password\"\r\n        showPassword\r\n        errors={errors}\r\n        register={register}\r\n        rules={{\r\n          required: 'Password is required!',\r\n          validate: {\r\n            // checks entered password value contains required characters\r\n            // Password needs special characters added\r\n            includesCapital: (value) => {\r\n              const pattern = /[A-Z]/;\r\n              return (\r\n                pattern.test(value) ||\r\n                'Password must include at least 1 capital letter.'\r\n              );\r\n            },\r\n            includesNumber: (value) => {\r\n              const pattern = /[0-9]/;\r\n              return (\r\n                pattern.test(value) ||\r\n                'Password must include at least 1 number.'\r\n              );\r\n            },\r\n            // checks that entered password value is a minimum of 8 chars\r\n            checkLength: (value) => {\r\n              return (\r\n                (value.length >= 8 && value.length <= 32) ||\r\n                'Password must be between 8 and 32 characters.'\r\n              );\r\n            },\r\n            checkRegex: (value) => {\r\n              return (\r\n                patterns.passwordRegex.test(value) || 'Password is invalid!'\r\n              );\r\n            },\r\n          },\r\n        }}\r\n        placeholder=\"Create a safe password\"\r\n      />\r\n      <Input\r\n        id=\"signupConfirm\"\r\n        name=\"confirm\"\r\n        label=\"Confirm Password\"\r\n        type=\"password\"\r\n        showPassword\r\n        errors={errors}\r\n        register={register}\r\n        rules={{\r\n          required: 'Password confirmation is required!',\r\n          validate: (value) => {\r\n            // checks that the values in password and confirm inputs match\r\n            return value === watch('password') || \"Passwords don't match!\";\r\n          },\r\n        }}\r\n        placeholder=\"Re-enter your password\"\r\n      />\r\n      <Checkbox\r\n        id=\"termsCheckbox\"\r\n        name=\"termsCheckbox\"\r\n        label={\r\n          <p className=\"small\">\r\n            I have read and agree to the{' '}\r\n            <Link to=\"/tos\" className=\"text-button\" target=\"_blank\">\r\n              Terms & Conditions\r\n            </Link>\r\n            .\r\n          </p>\r\n        }\r\n        errors={errors}\r\n        register={register}\r\n        rules={{\r\n          validate: {\r\n            isChecked: (value) => value || 'You must accept TOS',\r\n          },\r\n        }}\r\n      />\r\n      <input\r\n        className=\"submit\"\r\n        type=\"submit\"\r\n        value=\"Create Account\"\r\n        onClick={() => clearErrors('form')}\r\n      />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SignupForm;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { CleverButton } from '../../common';\r\nimport SignupForm from './SignupForm';\r\nimport { ISigninProps } from './signupTypes';\r\n\r\nconst RenderSignupPage = (props: ISigninProps): React.ReactElement => {\r\n  return (\r\n    <div className=\"signup-page auth-page\">\r\n      <h1>Classroom Rumble</h1>\r\n      {!props.isNew && (\r\n        <>\r\n          <CleverButton signup />\r\n          <p className=\"small\">OR</p>\r\n        </>\r\n      )}\r\n      <p>Sign up using email address</p>\r\n      <SignupForm {...props} />\r\n      <p className=\"small\">\r\n        Already have an account? <Link to=\"/login\">Log In Here</Link>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RenderSignupPage;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { query } from '../../../utils';\r\nimport RenderSignupPage from './RenderSignupPage';\r\n\r\nconst SignupPageContainer = (): React.ReactElement => {\r\n  const { search } = useLocation();\r\n\r\n  const [isNew, setIsNew] = useState(false);\r\n  const [cleverId, setCleverId] = useState<string>();\r\n  const [roleId, setRoleId] = useState<number>();\r\n  const [firstname, setFirstname] = useState<string>();\r\n  const [lastname, setLastname] = useState<string>();\r\n  const [email, setEmail] = useState<string>();\r\n\r\n  useEffect(() => {\r\n    // Parse the querystring if it exists\r\n    if (search?.includes('?')) {\r\n      const params = query.parse<\r\n        'isNew' | 'cleverId' | 'roleId' | 'firstname' | 'lastname' | 'email'\r\n      >(search);\r\n      setIsNew(params.isNew === 'true');\r\n      setCleverId(params.cleverId);\r\n      setRoleId(params.roleId ? parseInt(params.roleId, 10) : undefined);\r\n      setFirstname(params.firstname);\r\n      setLastname(params.lastname);\r\n      setEmail(params.email);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <RenderSignupPage\r\n      isNew={isNew}\r\n      cleverId={cleverId}\r\n      roleId={roleId}\r\n      firstname={firstname}\r\n      lastname={lastname}\r\n      email={email}\r\n    />\r\n  );\r\n};\r\n\r\nexport default SignupPageContainer;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport { useRecoilValue, useSetRecoilState } from 'recoil';\r\nimport { Sections } from '../../../../api';\r\nimport { auth, sections } from '../../../../state';\r\nimport { query } from '../../../../utils';\r\n\r\nconst JoinSectionRedirectContainer = (): React.ReactElement => {\r\n  const [sectionId, setSectionId] = useState<number>();\r\n  const [joinCode, setJoinCode] = useState<string>();\r\n  const setSectionList = useSetRecoilState(sections.list);\r\n  const user = useRecoilValue(auth.user);\r\n  const { search } = useLocation();\r\n  const { push } = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (!joinCode) {\r\n      const params = query.parse<'joinCode' | 'sectionId'>(search);\r\n      setJoinCode(params.joinCode);\r\n      setSectionId(parseInt(params.sectionId ?? '', 10));\r\n    }\r\n  }, [search]);\r\n\r\n  useEffect(() => {\r\n    if (joinCode && sectionId && user) {\r\n      Sections.joinSection({ joinCode }, sectionId, user.id)\r\n        .then((res) => {\r\n          setSectionList((prev) => (prev ? [...prev, res] : [res]));\r\n          push('/dashboard/student');\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }, [joinCode, sectionId, user]);\r\n\r\n  return <></>;\r\n};\r\n\r\nexport default JoinSectionRedirectContainer;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { useSetRecoilState } from 'recoil';\r\nimport { Rumbles, Sections } from '../../../../api';\r\nimport { current } from '../../../../state';\r\n\r\nconst StudentRumble = ({\r\n  section,\r\n  rumble,\r\n}: IStudentDashboardRumbleCardProps): React.ReactElement => {\r\n  const { push } = useHistory();\r\n  const setCurrentSection = useSetRecoilState(current.section);\r\n  const setCurrentRumble = useSetRecoilState(current.rumble);\r\n\r\n  const openCurrentRumble = () => {\r\n    setCurrentRumble(rumble);\r\n    setCurrentSection(section);\r\n    push('/dashboard/student/rumble', { section, rumble });\r\n  };\r\n  return (\r\n    <div className=\"student-rumble-card\" onClick={openCurrentRumble}>\r\n      <h3>{rumble.sectionName}</h3>\r\n      <p>ID: {rumble.id}</p>\r\n      <p>SectionId: {rumble.sectionId}</p>\r\n      <p>PromptID: {rumble.promptId}</p>\r\n      <p>This rumble is {rumble.numMinutes} minutes long!</p>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface IStudentDashboardRumbleCardProps {\r\n  section: Sections.ISectionWithRumbles;\r\n  rumble: Rumbles.IRumbleWithSectionInfo;\r\n}\r\nexport default StudentRumble;\r\n","import React from 'react';\r\nimport { Sections } from '../../../../api';\r\nimport StudentDashboardRumbleCard from './StudentDashboardRumbleCard';\r\n\r\nconst StudentDashboardRumbleList = ({\r\n  sections,\r\n}: IStudentDashboardRumbleListProps): React.ReactElement => {\r\n  return (\r\n    <div className=\"student-dash-rumble-list-wrapper\">\r\n      <div className=\"student-dash-rumble-list-container\">\r\n        <h2>Current Rumbles</h2>\r\n        <div className=\"rumble-list\">\r\n          {sections?.map((sec) =>\r\n            sec.rumbles.map((rum) => (\r\n              <StudentDashboardRumbleCard\r\n                key={rum.id}\r\n                section={sec}\r\n                rumble={rum}\r\n              />\r\n            )),\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface IStudentDashboardRumbleListProps {\r\n  sections: Sections.ISectionWithRumbles[];\r\n}\r\n\r\nexport default StudentDashboardRumbleList;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useSetRecoilState } from 'recoil';\r\nimport { Sections } from '../../../../api';\r\nimport { current } from '../../../../state';\r\n\r\nconst StudentSection = ({\r\n  active,\r\n  id,\r\n  gradeId,\r\n  joinCode,\r\n  name,\r\n  subjectId,\r\n  ...section\r\n}: Sections.ISectionWithRumbles): React.ReactElement => {\r\n  const { push } = useHistory();\r\n\r\n  const setCurrentSection = useSetRecoilState(current.section);\r\n\r\n  const openSection = () => {\r\n    const currentSection = {\r\n      ...section,\r\n      id,\r\n      joinCode,\r\n      active,\r\n      name,\r\n      subjectId,\r\n      gradeId,\r\n    };\r\n    setCurrentSection(currentSection);\r\n    push('/dashboard/student/section', {\r\n      section: currentSection,\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"student-section\" onClick={openSection}>\r\n      <p>ID: {id}</p>\r\n      <p>Name: {name} </p>\r\n      <p>Grade ID: {gradeId}</p>\r\n      <p>Subject ID: {subjectId}</p>\r\n      <p>Active: {active}</p>\r\n      <p>JoinCode: {joinCode}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StudentSection;\r\n","import React from 'react';\r\nimport { Sections } from '../../../../api';\r\nimport StudentSection from './StudentSection';\r\n\r\nconst StudentSectionListContainer = ({\r\n  sectionList,\r\n}: IStudentSectionListContainerProps): React.ReactElement => {\r\n  return (\r\n    <div className=\"section-list-wrapper\">\r\n      <h1>YOUR SECTIONS</h1>\r\n      <div className=\"section-list\">\r\n        {sectionList?.map((sec) => (\r\n          <StudentSection {...sec} key={sec.id} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface IStudentSectionListContainerProps {\r\n  sectionList: Sections.ISectionWithRumbles[];\r\n}\r\n\r\nexport default StudentSectionListContainer;\r\n","import React from 'react';\r\nimport { Sections } from '../../../api';\r\nimport { Loader } from '../../common';\r\nimport { StudentDashboardRumbleList } from './StudentDashboardRumbleList';\r\nimport { StudentSectionList } from './StudentSectionList';\r\n\r\n// Dislay Component for Students to view their sections\r\nconst RenderStudentDashboard = ({\r\n  sectionList,\r\n}: IRenderStudentDashboardProps): React.ReactElement => {\r\n  return (\r\n    <div className=\"student-dashboard\">\r\n      {sectionList ? (\r\n        <>\r\n          <StudentDashboardRumbleList sections={sectionList} />\r\n          <StudentSectionList sectionList={sectionList} />\r\n        </>\r\n      ) : (\r\n        <Loader message=\"Loading sections\" />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface IRenderStudentDashboardProps {\r\n  sectionList: Sections.ISectionWithRumbles[];\r\n}\r\n\r\nexport default RenderStudentDashboard;\r\n","import { useEffect, useState } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useRecoilState } from 'recoil';\r\nimport { Rumbles, Sections, Students, Submissions } from '../../api';\r\nimport { current } from '../../state';\r\n\r\nconst useCheckBrowserState = (\r\n  ...values: ('student' | 'sub' | 'section' | 'rumble')[]\r\n): { isLoading: boolean } => {\r\n  // Load router state\r\n  const location = useLocation();\r\n  const state = location.state as {\r\n    section: Sections.ISectionWithRumbles;\r\n    student: Students.IStudentWithSubmissions;\r\n    submission: Submissions.ISubItem;\r\n    rumble: Rumbles.IRumbleWithSectionInfo;\r\n  };\r\n\r\n  // Set initial loading state\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  // Load recoil state values\r\n  const [section, setSection] = useRecoilState(current.section);\r\n  const [student, setStudent] = useRecoilState(current.student);\r\n  const [rumble, setRumble] = useRecoilState(current.rumble);\r\n  const [sub, setSub] = useRecoilState(current.sub);\r\n\r\n  useEffect(() => {\r\n    if (state) {\r\n      if (!section && values.includes('section') && state.section) {\r\n        setSection(state.section);\r\n      }\r\n      if (!student && values.includes('student') && state.student) {\r\n        setStudent(state.student);\r\n      }\r\n      if (!rumble && values.includes('rumble') && state.rumble) {\r\n        setRumble(state.rumble);\r\n      }\r\n      if (!sub && values.includes('sub') && state.submission) {\r\n        setSub(state.submission);\r\n      }\r\n    }\r\n    setIsLoading(false);\r\n  }, []);\r\n\r\n  return { isLoading };\r\n};\r\n\r\nexport default useCheckBrowserState;\r\n","import { DateTime } from 'luxon';\r\nimport { useMemo } from 'react';\r\nimport { Rumbles } from '../../api';\r\n\r\nconst useRumbleFilter = (\r\n  rumbles: Rumbles.IRumbleWithSectionInfo[],\r\n): [\r\n  currentRumbles: Rumbles.IRumbleWithSectionInfo[],\r\n  pastRumbles: Rumbles.IRumbleWithSectionInfo[],\r\n] => {\r\n  const currentRumbles = useMemo(\r\n    () =>\r\n      rumbles.filter(\r\n        (rumble) =>\r\n          !rumble.end_time ||\r\n          DateTime.fromISO(`${rumble.end_time}`) > DateTime.now(),\r\n      ),\r\n    [rumbles],\r\n  );\r\n  const pastRumbles = useMemo(\r\n    () =>\r\n      rumbles.filter(\r\n        (rumble) =>\r\n          rumble.end_time &&\r\n          DateTime.fromISO(`${rumble.end_time}`) < DateTime.now(),\r\n      ),\r\n    [rumbles],\r\n  );\r\n  return [currentRumbles, pastRumbles];\r\n};\r\n\r\nexport default useRumbleFilter;\r\n","import React from 'react';\r\nimport { Sections, Submissions } from '../../../../../../api';\r\nimport { PromptBox, SectionInfo } from '../../../../../common';\r\n\r\nconst RenderPastRumbleDetails = ({\r\n  submission,\r\n  section,\r\n}: IRenderPastRumbleDetailProps): React.ReactElement => {\r\n  return (\r\n    <div className=\"past-rumble-details-container\">\r\n      <SectionInfo section={section} />\r\n      <PromptBox />\r\n      <div className=\"rumble-details-submission\">{submission}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface IRenderPastRumbleDetailProps {\r\n  submission: Submissions.ISubItem[];\r\n  section: Sections.ISectionWithRumbles;\r\n}\r\n\r\nexport default RenderPastRumbleDetails;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useRecoilValue } from 'recoil';\r\nimport { Students, Submissions } from '../../../../../../api';\r\nimport { auth, current } from '../../../../../../state';\r\nimport { CouldNotLoad, Loader } from '../../../../../common';\r\nimport RenderPastRumbleDetails from './RenderPastRumbleDetails';\r\n\r\nconst PastRumbleDetailsContainer = (): React.ReactElement => {\r\n  const rumble = useRecoilValue(current.rumble);\r\n  const user = useRecoilValue(auth.user);\r\n  const section = useRecoilValue(current.section);\r\n\r\n  const [submission, setSubmission] = useState<Submissions.ISubItem[]>([]);\r\n  const [error, setError] = useState<null | string>(null);\r\n\r\n  useEffect(() => {\r\n    console.log('rumbleId & userId: ', {\r\n      rumbleId: rumble?.id,\r\n      userId: user?.id,\r\n    });\r\n\r\n    if (rumble && user && !submission) {\r\n      Students.getSubForRumble(rumble.id, user.id)\r\n        .then((res) => {\r\n          console.log(res);\r\n          setSubmission(res);\r\n        })\r\n        .catch((err) => {\r\n          console.log({ err });\r\n          setError('There is no submission for this Rumble.');\r\n        });\r\n    }\r\n  }, [rumble, user]);\r\n\r\n  return submission && section ? (\r\n    <RenderPastRumbleDetails section={section} submission={submission} />\r\n  ) : error ? (\r\n    <CouldNotLoad error={error} />\r\n  ) : (\r\n    <>\r\n      <Loader message={'Loading Submission'} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PastRumbleDetailsContainer;\r\n","import React, { useState } from 'react';\r\nimport { useRecoilState, useRecoilValue, useSetRecoilState } from 'recoil';\r\nimport { Submissions } from '../../../../../../api';\r\nimport { current } from '../../../../../../state';\r\nimport { upload } from '../../../../../../utils';\r\n\r\n/**\r\n * Submission Form allows students to submit an image to the rumble they are currenly in.\r\n */\r\n\r\nconst SubmissionForm = (): React.ReactElement => {\r\n  // Recoil State for user submissions\r\n  const [file, setFile] = useState<File>();\r\n  const [preview, setPreview] = useState<string>();\r\n  const [error, setError] = useState<string>();\r\n  const [loading, setLoading] = useState(false);\r\n  const [complete, setComplete] = useRecoilState(current.hasSubmitted);\r\n  const setSubmission = useSetRecoilState(current.sub);\r\n\r\n  // We will always know the rumble if we get this far bc the PromptBox is only rendered within a Rumble.\r\n  const currentRumble = useRecoilValue(current.rumble);\r\n  // Ensuring the promptId is a string before it is uploaded\r\n  const promptId = currentRumble?.promptId.toString();\r\n\r\n  // On submit functionality for user stories (submissions)\r\n  const onSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if (!file) {\r\n      setError('No image selected!');\r\n    } else {\r\n      setLoading(true);\r\n      try {\r\n        // Create new FormData instance to track our file and pass it to our API call `submitStory`\r\n        const reqBody = new FormData();\r\n        reqBody.append('story', file);\r\n        // Force Typing as a string bc WE are smarter than our interpereter!!\r\n        reqBody.append('promptId', promptId as string);\r\n        // ALL GOOD TO UPLOAD!\r\n        // POST a submission here\r\n        await Submissions.submitStory(reqBody)\r\n          .then((data) => {\r\n            console.log('File Submitted: ', data);\r\n          })\r\n          .catch((err) => {\r\n            console.log({ err });\r\n          });\r\n        setComplete(true);\r\n      } catch (err) {\r\n        if (err?.response?.data?.error) {\r\n          if (err.response.data.error === 'Transcription error')\r\n            setError('Picture must be of written text');\r\n          else setError(err.response.data.error);\r\n        } else {\r\n          setError('An error occurred. Try again later');\r\n        }\r\n      }\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fileSelection = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const fileList = e.target.files;\r\n    if (fileList) {\r\n      const selection = fileList[0];\r\n      if (selection) {\r\n        if (!upload.isValidImage(selection)) {\r\n          setError('Upload must be an image!');\r\n        } else {\r\n          setError(undefined);\r\n          setFile(selection);\r\n          setPreview(URL.createObjectURL(selection));\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"submission-form\">\r\n        <form onSubmit={onSubmit}>\r\n          {preview && (\r\n            <div className=\"preview\">\r\n              <img src={preview} alt=\"Upload preview\" />\r\n              <div className={`loader${loading ? ' visible' : ''}`}>\r\n                <p>** barloader **</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n          {error && <div className=\"error\">{error}</div>}\r\n          {!complete && (\r\n            // If the submission hasn't been processed successfully\r\n            <>\r\n              <label className={file ? 'selected' : ''}>\r\n                {file ? 'Change Picture' : 'Select a Picture'}\r\n                <input type=\"file\" onChange={fileSelection} hidden />\r\n              </label>\r\n              <button type=\"submit\">Submit Your Story</button>\r\n            </>\r\n          )}\r\n        </form>\r\n        {complete && (\r\n          // Once the submission is done, show a button.\r\n          <>\r\n            <div className=\"success\">Submission successful!</div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SubmissionForm;\r\n","import React from 'react';\r\nimport { Rumbles, Sections } from '../../../../../../api';\r\nimport { PromptBox, SectionInfo } from '../../../../../common';\r\nimport SubmissionForm from './SubmissionForm';\r\n\r\nconst RenderStudentViewRumble = ({\r\n  section,\r\n}: IRenderStudentViewRumbleProps): React.ReactElement => {\r\n  return (\r\n    <div className=\"student-view-rumble\">\r\n      <SectionInfo section={section} />\r\n      <PromptBox />\r\n      <SubmissionForm />\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface IRenderStudentViewRumbleProps {\r\n  rumble: Rumbles.IRumbleWithSectionInfo;\r\n  section: Sections.ISectionWithRumbles;\r\n}\r\n\r\nexport default RenderStudentViewRumble;\r\n","export default __webpack_public_path__ + \"static/media/female-surfer.f1cb86de.svg\";","import React from 'react';\r\nimport surfer from '../../../../../assets/img/female-surfer.svg';\r\n\r\nconst SubmissionSuccess = (): React.ReactElement => {\r\n  return (\r\n    <div className=\"submission-success-wrapper\">\r\n      <div className=\"success-image-wrapper\">\r\n        <img src={surfer} alt=\"submission-successful\" />\r\n      </div>\r\n      <p>Your submission was received!</p>\r\n      {/* <p>Peer Review will begin in:</p>\r\n      <p>Rumble Timer</p> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubmissionSuccess;\r\n","import React from 'react';\r\n\r\nconst WaitingRoom = (): React.ReactElement => {\r\n  return (\r\n    <div className=\"waiting-room-wrapper\">\r\n      Please Wait For Your Teacher To Start The Rumble\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WaitingRoom;\r\n","import { DateTime } from 'luxon';\r\nimport React from 'react';\r\nimport { useRecoilValue } from 'recoil';\r\nimport { Rumbles, Sections } from '../../../../api';\r\nimport { current } from '../../../../state';\r\nimport { PastRumbleDetails, SubmissionSuccess } from './StudentRumblePages';\r\nimport { StudentSubmissionPage } from './StudentRumblePages/';\r\n\r\nconst StudentRumbleRedirect = ({\r\n  endTime,\r\n  rumble,\r\n  section,\r\n}: IStudentRumbleRedirectProps): React.ReactElement => {\r\n  const successfulSubmission = useRecoilValue(current.hasSubmitted);\r\n\r\n  if (isRumbleEnded(`${endTime}`)) {\r\n    return <PastRumbleDetails />;\r\n  } else if (successfulSubmission) {\r\n    // Student has already submitted\r\n    return <SubmissionSuccess />;\r\n  } else {\r\n    // The end time has loaded and the student has not yet submitted\r\n    // This is the view prompt/submit rumble page\r\n    return <StudentSubmissionPage rumble={rumble} section={section} />;\r\n  }\r\n};\r\n\r\ninterface IStudentRumbleRedirectProps {\r\n  rumble: Rumbles.IRumbleWithSectionInfo;\r\n  section: Sections.ISectionWithRumbles;\r\n  endTime: Date;\r\n}\r\n\r\nconst isRumbleEnded = (endTime: string) =>\r\n  DateTime.fromISO(endTime) <= DateTime.now();\r\n\r\nexport default StudentRumbleRedirect;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useRecoilValue } from 'recoil';\r\nimport { Rumbles } from '../../../../api';\r\nimport { useCheckBrowserState } from '../../../../hooks';\r\nimport { current } from '../../../../state';\r\nimport { Loader } from '../../../common';\r\nimport { WaitingRoom } from './StudentRumblePages';\r\nimport StudentRumbleRedirect from './StudentRumbleRedirect';\r\n\r\nconst StudentViewRumbleContainer = (): React.ReactElement => {\r\n  const { isLoading } = useCheckBrowserState('section', 'rumble');\r\n  const section = useRecoilValue(current.section);\r\n  const rumble = useRecoilValue(current.rumble);\r\n  const [endTime, setEndTime] = useState<Date | undefined>(rumble?.end_time);\r\n  const [isFetching, setIsFetching] = useState(false);\r\n\r\n  useEffect(() => {\r\n    console.log({ rumble, endTime });\r\n    let timer: NodeJS.Timeout;\r\n    if (!endTime) {\r\n      timer = setTimeout(() => {\r\n        console.log('Time');\r\n        if (rumble?.id) {\r\n          setIsFetching(true);\r\n          Rumbles.getRumbleById(rumble.id)\r\n            .then((res) => {\r\n              console.log(res);\r\n              setIsFetching(false);\r\n              if (res.end_time) {\r\n                setEndTime(res.end_time);\r\n              }\r\n            })\r\n            .catch((err) => {\r\n              setIsFetching(false);\r\n              console.log(err);\r\n            });\r\n        }\r\n      }, 20000);\r\n    }\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [rumble, isFetching]);\r\n\r\n  useEffect(() => {\r\n    if (rumble) setEndTime(rumble.end_time);\r\n  }, [rumble]);\r\n\r\n  return section && rumble && endTime && !isLoading ? (\r\n    <StudentRumbleRedirect\r\n      section={section}\r\n      endTime={endTime}\r\n      rumble={rumble}\r\n    />\r\n  ) : isLoading ? (\r\n    <Loader message=\"Loading rumble\" />\r\n  ) : !endTime ? (\r\n    <WaitingRoom />\r\n  ) : (\r\n    <p>Redirecting...</p>\r\n  );\r\n};\r\n\r\nexport default StudentViewRumbleContainer;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { useRecoilValue, useSetRecoilState } from 'recoil';\r\nimport { IRumbleWithSectionInfo } from '../../../../api/Rumbles';\r\nimport { current } from '../../../../state';\r\n\r\nconst StudentRumble = ({\r\n  numMinutes,\r\n  sectionName,\r\n  ...rumbleInfo\r\n}: IRumbleWithSectionInfo): React.ReactElement => {\r\n  const { push } = useHistory();\r\n  const currentSection = useRecoilValue(current.section);\r\n  const setCurrentRumble = useSetRecoilState(current.rumble);\r\n\r\n  const openRumble = () => {\r\n    // Set current rumble BEFORE pushing the user to /dashboard/student/rumble\r\n    const currentRumble = {\r\n      numMinutes,\r\n      sectionName,\r\n      ...rumbleInfo,\r\n    };\r\n    console.log({ currentSection, currentRumble });\r\n    setCurrentRumble(currentRumble);\r\n    // When a student opens up a past rumble we want them to view their details for that rumble.\r\n    push('/dashboard/student/rumble', {\r\n      rumble: currentRumble,\r\n      section: currentSection,\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"rumble-item\">\r\n      <div className=\"content\">\r\n        <h3>Class Name</h3>\r\n        <h4>{sectionName}</h4>\r\n      </div>\r\n      <div className=\"content\">\r\n        <button onClick={openRumble}>\r\n          {rumbleInfo.end_time ? 'View Rumble' : 'View Details'}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StudentRumble;\r\n","import React from 'react';\r\nimport { IRumbleWithSectionInfo } from '../../../../api/Rumbles';\r\nimport StudentRumble from './StudentRumble';\r\n\r\nconst RenderStudentRumbleList = ({\r\n  rumbles,\r\n}: IRenderStudentRumbleListProps): React.ReactElement => {\r\n  return (\r\n    <div className=\"rumble-list\">\r\n      <h2>Rumbles</h2>\r\n      {rumbles.map((r) => (\r\n        <StudentRumble key={r.id} {...r} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface IRenderStudentRumbleListProps {\r\n  rumbles: IRumbleWithSectionInfo[];\r\n}\r\n\r\nexport default RenderStudentRumbleList;\r\n","import React from 'react';\r\nimport { Sections } from '../../../../api';\r\nimport { useRumbleFilter } from '../../../../hooks';\r\nimport { SectionInfo } from '../../../common';\r\nimport { StudentRumbleList } from '../StudentRumbleList';\r\nconst RenderStudentViewSectionRumbles = ({\r\n  section,\r\n}: IRenderStudentViewSectionRumblesProps): React.ReactElement => {\r\n  const [currentRumbles, pastRumbles] = useRumbleFilter(section.rumbles);\r\n\r\n  return (\r\n    <>\r\n      <SectionInfo section={section} />\r\n      <div className=\"student-view-section\">\r\n        <div className=\"section-content-switcher-wrapper\">\r\n          <div className=\"section-content-switcher-container\">\r\n            <h3>Current Rumbles</h3>\r\n            <StudentRumbleList rumbles={currentRumbles} />\r\n            <h3>Past Rumbles</h3>\r\n            <StudentRumbleList rumbles={pastRumbles} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\ninterface IRenderStudentViewSectionRumblesProps {\r\n  section: Sections.ISectionWithRumbles;\r\n}\r\n\r\nexport default RenderStudentViewSectionRumbles;\r\n","import React from 'react';\r\nimport { useRecoilValue } from 'recoil';\r\nimport { useCheckBrowserState } from '../../../../hooks';\r\nimport { current } from '../../../../state';\r\nimport { Loader } from '../../../common';\r\nimport RenderStudentViewRumbles from './RenderStudentViewSection';\r\n\r\nconst StudentViewSectionRumblesContainer = (): React.ReactElement => {\r\n  const { isLoading } = useCheckBrowserState('section');\r\n  const section = useRecoilValue(current.section);\r\n\r\n  return section && !isLoading ? (\r\n    <RenderStudentViewRumbles section={section} />\r\n  ) : isLoading ? (\r\n    <Loader message={'Loading Rumbles'} />\r\n  ) : (\r\n    <p>Redirecting...</p>\r\n  );\r\n};\r\n\r\nexport default StudentViewSectionRumblesContainer;\r\n","import React from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport { useRecoilValue } from 'recoil';\r\nimport { sections } from '../../../state';\r\nimport { Header } from '../../common';\r\nimport { JoinSectionRedirect } from './JoinSectionRedirect';\r\nimport RenderStudentDashboard from './RenderStudentDashboard';\r\nimport { StudentViewRumble } from './StudentViewRumble';\r\nimport { StudentViewSection } from './StudentViewSection';\r\n\r\nconst StudentDashboardContainer = (): React.ReactElement => {\r\n  const sectionList = useRecoilValue(sections.list);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Switch>\r\n        <Route\r\n          exact\r\n          path=\"/dashboard/student/join\"\r\n          component={JoinSectionRedirect}\r\n        />\r\n        <Route\r\n          exact\r\n          path=\"/dashboard/student\"\r\n          render={() => <RenderStudentDashboard sectionList={sectionList} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path=\"/dashboard/student/section\"\r\n          component={() => <StudentViewSection />}\r\n        />\r\n        {/* Route to the current rumble */}\r\n        <Route\r\n          exact\r\n          path=\"/dashboard/student/rumble\"\r\n          render={() => <StudentViewRumble />}\r\n        />\r\n        {/* Fallback redirect for nonexistent routes */}\r\n        <Route\r\n          path=\"/dashboard/student\"\r\n          component={() => <Redirect to=\"/dashboard/student\" />}\r\n        />\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default StudentDashboardContainer;\r\n","import moment from 'moment';\r\nimport TimePicker from 'rc-time-picker';\r\nimport 'rc-time-picker/assets/index.css';\r\nimport React, { useMemo } from 'react';\r\nimport { Controller, SubmitHandler, useForm } from 'react-hook-form';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useRecoilValue, useSetRecoilState } from 'recoil';\r\nimport { Prompts, Rumbles } from '../../../../api';\r\nimport { auth, rumbles, sections } from '../../../../state';\r\nimport { CheckboxGroup, Select } from '../../../common';\r\n\r\nconst CreateNewRumbleForm = ({\r\n  prompt,\r\n}: ICreateNewRumbleFormProps): React.ReactElement => {\r\n  // Functional Hooks\r\n  const { register, handleSubmit, control } = useForm();\r\n  const { push } = useHistory();\r\n\r\n  // Subscribe to state\r\n  const sectionList = useRecoilValue(sections.list);\r\n  const user = useRecoilValue(auth.user);\r\n  const addRumbles = useSetRecoilState(rumbles.addRumbles);\r\n\r\n  // Parse the user's section list into a usable option type\r\n  const sectionOptions = useMemo<Select.IOption<number>[]>(\r\n    () => sectionList?.map((s) => ({ value: s.id, label: s.name })) ?? [],\r\n    [sectionList],\r\n  );\r\n\r\n  const onSubmit: SubmitHandler<{\r\n    sectionIds: string[];\r\n    momentTime: moment.Moment;\r\n  }> = async ({ sectionIds, momentTime }) => {\r\n    // Parse the ids that have been checked (sectionId[n] is TRUE)\r\n    // return the `value` of the option item at that index\r\n    const idList = sectionOptions\r\n      .filter((op, i) => sectionIds[i])\r\n      .map((op) => op.value);\r\n    const numMinutes = momentTime.minutes() + 60 * momentTime.hour();\r\n    try {\r\n      if (user) {\r\n        const res = await Rumbles.create(\r\n          { numMinutes, promptId: prompt.id },\r\n          user.id,\r\n          idList,\r\n        );\r\n        addRumbles(res);\r\n        push('/dashboard/teacher');\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const goBack = () => push('/dashboard/teacher');\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)}>\r\n      <div className=\"section-wrapper\">\r\n        <h3>Select Class(es)</h3>\r\n        <CheckboxGroup\r\n          id=\"newRumbleSectionIds\"\r\n          name=\"sectionIds\"\r\n          register={register}\r\n          options={sectionOptions}\r\n        />\r\n      </div>\r\n      <div className=\"section-wrapper\">\r\n        <h3>Set a Timer</h3>\r\n        <Controller\r\n          control={control}\r\n          name=\"momentTime\"\r\n          defaultValue={moment().hour(1).minute(0)}\r\n          render={(props) => (\r\n            <TimePicker\r\n              {...props}\r\n              minuteStep={15}\r\n              showSecond={false}\r\n              defaultOpenValue={moment().hour(1).minute(0)}\r\n            />\r\n          )}\r\n        />\r\n      </div>\r\n      <div className=\"button-row\">\r\n        <button type=\"button\" onClick={goBack}>\r\n          Cancel\r\n        </button>\r\n        <input type=\"submit\" value=\"Create\" />\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\ninterface ICreateNewRumbleFormProps {\r\n  prompt: Prompts.IPrompt;\r\n}\r\n\r\nexport default CreateNewRumbleForm;\r\n","import { DateTime } from 'luxon';\r\nimport React from 'react';\r\nimport { Prompts } from '../../../../api';\r\nimport CreateNewRumbleForm from './CreateNewRumbleForm';\r\n\r\nconst RenderCreateNewRumble = ({\r\n  prompt,\r\n}: IRenderCreateRumbleProps): React.ReactElement => {\r\n  console.log(prompt);\r\n  return (\r\n    <div className=\"create-new-rumble-wrapper\">\r\n      <div className=\"create-new-rumble-container\">\r\n        <div className=\"prompt-display\">\r\n          <h2>Prompt</h2>\r\n          <h3>{prompt.starts_at ? formatDate(prompt.starts_at) : 'Custom'}</h3>\r\n          <p>{prompt.prompt}</p>\r\n        </div>\r\n        <CreateNewRumbleForm prompt={prompt} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst formatDate = (date: string) =>\r\n  DateTime.fromISO(date).toLocaleString(DateTime.DATE_MED_WITH_WEEKDAY);\r\n\r\ninterface IRenderCreateRumbleProps {\r\n  prompt: Prompts.IPromptInQueue;\r\n}\r\n\r\nexport default RenderCreateNewRumble;\r\n","import React, { useMemo } from 'react';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport { Prompts } from '../../../../api';\r\nimport RenderCreateNewRumble from './RenderCreateNewRumble';\r\n\r\nconst CreateNewRumble = ({\r\n  history,\r\n}: RouteComponentProps): React.ReactElement => {\r\n  const selectedPrompt = useMemo(\r\n    () => history.location.state as Prompts.IPromptInQueue | undefined,\r\n    [history],\r\n  );\r\n  return selectedPrompt ? (\r\n    <RenderCreateNewRumble prompt={selectedPrompt} />\r\n  ) : (\r\n    <p>Redirecting...</p>\r\n  );\r\n};\r\n\r\nexport default CreateNewRumble;\r\n","import React from 'react';\r\nimport { SubmitHandler, useForm } from 'react-hook-form';\r\nimport { useSetRecoilState } from 'recoil';\r\nimport { Prompts } from '../../../../../api';\r\nimport { prompts } from '../../../../../state';\r\nimport { Modal } from '../../../../common';\r\n\r\nconst CreateCustomPromptForm = ({\r\n  closeModal,\r\n}: Modal.ModalComponentProps): React.ReactElement => {\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const setCustomPrompts = useSetRecoilState(prompts.customList);\r\n\r\n  const onSubmit: SubmitHandler<Prompts.INewPrompt> = async (data) => {\r\n    console.log(data);\r\n    try {\r\n      const res = (await Prompts.addCustom(\r\n        data.prompt,\r\n      )) as Prompts.IPromptInQueue; // We're handling edge cases in the display component\r\n      setCustomPrompts((prev) => [...prev, res]);\r\n      closeModal();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"custom-prompt-form\">\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        <div className=\"text-input\">\r\n          <label htmlFor=\"customPrompt\">New Prompt:</label>\r\n          <textarea\r\n            autoFocus\r\n            ref={\r\n              register &&\r\n              register({\r\n                required: 'Prompt cannot be empty',\r\n                minLength: {\r\n                  value: 10,\r\n                  message: 'Prompt must be at least 10 characters',\r\n                },\r\n              })\r\n            }\r\n            name=\"prompt\"\r\n            id=\"customPrompt\"\r\n            rows={5}\r\n            placeholder=\"Enter custom prompt...\"\r\n          />\r\n          {errors.prompt && (\r\n            <div className=\"error\">\r\n              <span>*</span> {errors.prompt.message}!\r\n            </div>\r\n          )}\r\n        </div>\r\n        <input type=\"submit\" value=\"Submit\" />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateCustomPromptForm;\r\n","import React from 'react';\r\nimport { Modal } from '../../../../common';\r\nimport CreateCustomPromptForm from './CreateCustomPromptForm';\r\n\r\nconst CreateCustomPrompt = ({\r\n  isVisible,\r\n  setIsVisible,\r\n}: ICreateCustomPromptProps): React.ReactElement => {\r\n  return (\r\n    <Modal.Component\r\n      component={(props) => <CreateCustomPromptForm {...props} />}\r\n      visible={isVisible}\r\n      setVisible={setIsVisible}\r\n      title=\"Custom Prompt\"\r\n      className=\"custom-prompt-modal\"\r\n      centered\r\n    />\r\n  );\r\n};\r\n\r\ninterface ICreateCustomPromptProps {\r\n  isVisible: boolean;\r\n  setIsVisible: (arg: boolean) => void;\r\n}\r\n\r\nexport default CreateCustomPrompt;\r\n","import { DateTime } from 'luxon';\r\nimport React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Prompts } from '../../../../api';\r\n\r\nconst PromptQueueItem = ({\r\n  prompt,\r\n  starts_at,\r\n  ...promptProps\r\n}: Prompts.IPromptInQueue): React.ReactElement => {\r\n  const { push } = useHistory();\r\n\r\n  const newRumbleFromThisPrompt = () => {\r\n    push('/dashboard/teacher/rumble/new', {\r\n      prompt,\r\n      starts_at,\r\n      ...promptProps,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"prompt-queue-item\" onClick={newRumbleFromThisPrompt}>\r\n      {starts_at ? (\r\n        <h3>{formatDate(DateTime.fromISO(starts_at))}</h3>\r\n      ) : (\r\n        <h3>Custom</h3>\r\n      )}\r\n      <p>{prompt}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst formatDate = (date: DateTime): string =>\r\n  date.toLocaleString({ weekday: 'long' });\r\n\r\nexport default PromptQueueItem;\r\n","import React, { useState } from 'react';\r\nimport { IPromptInQueue } from '../../../../api/Prompts';\r\nimport { CreateCustomPrompt } from './CreateCustomPrompt';\r\nimport PromptQueueItem from './PromptQueueItem';\r\n\r\nconst RenderPromptQueueDisplay = ({\r\n  queue,\r\n}: IRenderPromptQueueDisplayProps): React.ReactElement => {\r\n  const [newPromptModalOpen, setNewPromptModalOpen] = useState(false);\r\n  const openModal = () => setNewPromptModalOpen(true);\r\n  return (\r\n    <>\r\n      <CreateCustomPrompt\r\n        isVisible={newPromptModalOpen}\r\n        setIsVisible={setNewPromptModalOpen}\r\n      />\r\n      <div className=\"prompt-queue-wrapper\">\r\n        <div className=\"prompt-queue-container\">\r\n          <h2>Select a Prompt to Start a Rumble</h2>\r\n          <div className=\"prompt-queue-list\">\r\n            {queue.map((prompt) => (\r\n              <PromptQueueItem key={prompt.id} {...prompt} />\r\n            ))}\r\n            <div className=\"custom-prompt-button\" onClick={openModal}>\r\n              <h3>Create Custom Prompt</h3>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\ninterface IRenderPromptQueueDisplayProps {\r\n  queue: IPromptInQueue[];\r\n}\r\n\r\nexport default RenderPromptQueueDisplay;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useRecoilState, useRecoilValue } from 'recoil';\r\nimport { Prompts } from '../../../../api';\r\nimport { prompts } from '../../../../state';\r\nimport { CouldNotLoad, Loader } from '../../../common';\r\nimport RenderPromptQueueDisplay from './RenderPromptQueueDisplay';\r\n\r\nconst PromptQueueDisplayContainer = (): React.ReactElement => {\r\n  const [promptQueue, setPromptQueue] = useRecoilState(prompts.queue);\r\n  const customPrompts = useRecoilValue(prompts.customList);\r\n  const [error, setError] = useState<string>();\r\n\r\n  useEffect(() => {\r\n    if (!promptQueue) {\r\n      Prompts.getUpcoming()\r\n        .then((res) => setPromptQueue(res))\r\n        .catch((err) => {\r\n          console.log(err);\r\n          setError(err.message ?? 'Could not load prompt queue');\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  return promptQueue ? (\r\n    <RenderPromptQueueDisplay queue={[...promptQueue, ...customPrompts]} />\r\n  ) : error ? (\r\n    <CouldNotLoad error={error} />\r\n  ) : (\r\n    <Loader message={'Loading prompt queue'} />\r\n  );\r\n};\r\n\r\nexport default PromptQueueDisplayContainer;\r\n","import React, { useMemo } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useSetRecoilState } from 'recoil';\r\nimport { Rumbles, Sections } from '../../../../api';\r\nimport { current } from '../../../../state';\r\n\r\nconst TeacherDashboardRumbleCard = ({\r\n  section,\r\n  rumble,\r\n}: ITeacherDashboardRumbleCardProps): React.ReactElement => {\r\n  const { push } = useHistory();\r\n  const setCurrentSection = useSetRecoilState(current.section);\r\n  const setCurrentRumble = useSetRecoilState(current.rumble);\r\n\r\n  // Memoize the minutes and hours to reduce calculations\r\n  const hours = useMemo(() => Math.floor(rumble.numMinutes / 60), [rumble]);\r\n  const mins = useMemo(() => rumble.numMinutes % 60, [rumble]);\r\n  const timeDisplay = useMemo(() => {\r\n    let res = '';\r\n    if (hours > 0) {\r\n      res += hours + ' hr';\r\n      if (hours > 1) res += 's';\r\n      if (mins > 0) res += ', ';\r\n    }\r\n    if (mins > 0) {\r\n      res += mins + ' min';\r\n      if (mins > 1) res += 's';\r\n    }\r\n    return res;\r\n  }, [hours, mins]);\r\n\r\n  const openCurrentRumble = () => {\r\n    setCurrentRumble(rumble);\r\n    setCurrentSection(section);\r\n    push('/dashboard/teacher/rumble', { section, rumble });\r\n  };\r\n\r\n  return (\r\n    <div className=\"rumble-card\" onClick={openCurrentRumble}>\r\n      <div className=\"content\">\r\n        <h3>Class Name</h3>\r\n        <h4>{rumble.sectionName}</h4>\r\n      </div>\r\n      <div className=\"content\">\r\n        <h3>Status</h3>\r\n        <h4>{rumble.end_time ? 'Active' : 'Scheduled'}</h4>\r\n      </div>\r\n      <div className=\"content\">\r\n        <h3>Length</h3>\r\n        <h4>{timeDisplay}</h4>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface ITeacherDashboardRumbleCardProps {\r\n  section: Sections.ISectionWithRumbles;\r\n  rumble: Rumbles.IRumbleWithSectionInfo;\r\n}\r\n\r\nexport default TeacherDashboardRumbleCard;\r\n","import React from 'react';\r\nimport { Sections } from '../../../../api';\r\nimport TeacherDashboardRumbleCard from './TeacherDashboardRumbleCard';\r\n\r\nconst TeacherDashboardRumbleList = ({\r\n  sections,\r\n  visible = true,\r\n}: ITeacherDashboardRumbleListProps): React.ReactElement => {\r\n  if (!visible) return <></>;\r\n  return (\r\n    <div className=\"teacher-dash-rumble-list-wrapper\">\r\n      <div className=\"teacher-dash-rumble-list-container\">\r\n        <h2>Current Rumbles</h2>\r\n        <div className=\"rumble-list\">\r\n          {sections?.map((sec) =>\r\n            sec.rumbles.map((rum) => (\r\n              <TeacherDashboardRumbleCard\r\n                key={rum.id}\r\n                section={sec}\r\n                rumble={rum}\r\n              />\r\n            )),\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface ITeacherDashboardRumbleListProps {\r\n  sections: Sections.ISectionWithRumbles[];\r\n  visible?: boolean;\r\n}\r\n\r\nexport default TeacherDashboardRumbleList;\r\n","import React from 'react';\r\nimport { Sections } from '../../../../api';\r\nimport { helpers } from '../../../../utils';\r\n\r\nconst InviteCode = ({\r\n  section,\r\n  goBack,\r\n  disableSectionPicker,\r\n}: IInviteCodeProps): React.ReactElement => (\r\n  <div className=\"invite-code\">\r\n    <div className=\"content\">\r\n      <h3>{section.name}</h3>\r\n      <textarea rows={6} readOnly value={helpers.joinCode(section)} />\r\n    </div>\r\n    {!disableSectionPicker && (\r\n      <div className=\"footer\">\r\n        <button onClick={goBack}>Pick a Different Class</button>\r\n      </div>\r\n    )}\r\n  </div>\r\n);\r\n\r\ninterface IInviteCodeProps {\r\n  section: Sections.ISectionWithRumbles;\r\n  goBack: () => void;\r\n  disableSectionPicker: boolean;\r\n}\r\n\r\nexport default InviteCode;\r\n","import React from 'react';\r\nimport { Sections } from '../../../../api';\r\n\r\nconst SectionPicker = ({\r\n  sectionList,\r\n  setCurrentSection,\r\n}: ISectionPickerProps): React.ReactElement => (\r\n  <div className=\"section-picker\">\r\n    <div className=\"section-picker-list\">\r\n      {sectionList.map((sec) => (\r\n        <div\r\n          key={sec.id}\r\n          className=\"section-picker-item\"\r\n          onClick={() => setCurrentSection(sec)}\r\n        >\r\n          {sec.name}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  </div>\r\n);\r\n\r\ninterface ISectionPickerProps {\r\n  sectionList: Sections.ISectionWithRumbles[];\r\n  setCurrentSection: (section: Sections.ISectionWithRumbles) => void;\r\n}\r\n\r\nexport default SectionPicker;\r\n","import React from 'react';\r\nimport { useRecoilState, useRecoilValue, useResetRecoilState } from 'recoil';\r\nimport { current, modals, sections } from '../../../../state';\r\nimport { Modal } from '../../../common';\r\nimport InviteCode from './InviteCode';\r\nimport SectionPicker from './SectionPicker';\r\n\r\nconst InviteToSection = ({\r\n  disableSectionPicker = false,\r\n}: IInviteToSectionProps): React.ReactElement => {\r\n  const [isOpen, setIsOpen] = useRecoilState(modals.invite.isOpen);\r\n  const [currentSection, setCurrentSection] = useRecoilState(current.section);\r\n  const clearSection = useResetRecoilState(current.section);\r\n  const sectionList = useRecoilValue(sections.list);\r\n\r\n  return (\r\n    <Modal.Component\r\n      className=\"invite-to-section\"\r\n      component={() =>\r\n        currentSection ? (\r\n          <InviteCode\r\n            disableSectionPicker={disableSectionPicker}\r\n            section={currentSection}\r\n            goBack={clearSection}\r\n          />\r\n        ) : (\r\n          <SectionPicker\r\n            sectionList={sectionList}\r\n            setCurrentSection={setCurrentSection}\r\n          />\r\n        )\r\n      }\r\n      visible={isOpen}\r\n      setVisible={setIsOpen}\r\n      centered\r\n      title={currentSection ? 'Join Link' : 'Select a Class'}\r\n    />\r\n  );\r\n};\r\n\r\ninterface IInviteToSectionProps {\r\n  disableSectionPicker?: boolean;\r\n}\r\n\r\nexport default InviteToSection;\r\n","import React from 'react';\r\nimport { SubmitHandler, useForm } from 'react-hook-form';\r\nimport { useRecoilValue, useSetRecoilState } from 'recoil';\r\nimport { Sections } from '../../../../../api';\r\nimport { auth, enumData, sections } from '../../../../../state';\r\nimport { Input, Modal, Select } from '../../../../common';\r\n\r\nconst CreateNewSectionForm = ({\r\n  closeModal,\r\n}: Modal.ModalComponentProps): React.ReactElement => {\r\n  const { errors, register, handleSubmit } = useForm();\r\n  const user = useRecoilValue(auth.user);\r\n  const grades = useRecoilValue(enumData.grades);\r\n  const subjects = useRecoilValue(enumData.subjects);\r\n  const setSectionList = useSetRecoilState(sections.list);\r\n\r\n  const onSubmit: SubmitHandler<Sections.INewSectionBody> = async (data) => {\r\n    try {\r\n      if (user) {\r\n        const res = await Sections.createNewSection(data, user.id);\r\n        setSectionList((prev) => (prev ? [...prev, res] : [res]));\r\n        closeModal();\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)}>\r\n      <div className=\"form-content\">\r\n        <Input\r\n          label=\"Name\"\r\n          name=\"name\"\r\n          register={register}\r\n          id=\"class-name\"\r\n          errors={errors}\r\n          placeholder=\"English 12\"\r\n          rules={{ required: 'Classname is required!' }}\r\n        />\r\n        <Select.Component\r\n          id=\"new-section-gradeId\"\r\n          options={grades}\r\n          name=\"gradeId\"\r\n          register={register}\r\n          errors={errors}\r\n          placeholder=\"Select A Grade\"\r\n          // TODO: Rules\r\n        />\r\n        <Select.Component\r\n          id=\"new-section-subjectId\"\r\n          options={subjects}\r\n          name=\"subjectId\"\r\n          register={register}\r\n          errors={errors}\r\n          placeholder=\"Select A Subject\"\r\n          // TODO: Rules\r\n        />\r\n      </div>\r\n      <input type=\"submit\" value=\"Confirm\" />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default CreateNewSectionForm;\r\n","import React from 'react';\r\nimport { Modal } from '../../../../common';\r\nimport CreateNewSectionForm from './CreateNewSectionForm';\r\n\r\nconst CreateNewSection = ({\r\n  isVisible,\r\n  setIsVisible,\r\n}: ICreateNewSectionProps): React.ReactElement => {\r\n  return (\r\n    <Modal.Component\r\n      visible={isVisible}\r\n      setVisible={setIsVisible}\r\n      component={CreateNewSectionForm}\r\n      className=\"create-new-section-modal\"\r\n      title=\"Add New Class\"\r\n      centered\r\n    />\r\n  );\r\n};\r\n\r\ninterface ICreateNewSectionProps {\r\n  isVisible: boolean;\r\n  setIsVisible: (arg: boolean) => void;\r\n}\r\n\r\nexport default CreateNewSection;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useRecoilValue, useSetRecoilState } from 'recoil';\r\nimport { Sections } from '../../../../api';\r\nimport { current, enumData } from '../../../../state';\r\n\r\nconst TeacherDashboardSectionCard = ({\r\n  id,\r\n  joinCode,\r\n  ...section\r\n}: Sections.ISectionWithRumbles): React.ReactElement => {\r\n  const { push } = useHistory();\r\n\r\n  const gradeEnum = useRecoilValue(enumData.grades);\r\n  const subjectEnum = useRecoilValue(enumData.subjects);\r\n  const setCurrentSection = useSetRecoilState(current.section);\r\n\r\n  const openSection = () => {\r\n    const currentSection = { ...section, id, joinCode };\r\n    setCurrentSection(currentSection);\r\n    push('/dashboard/teacher/section', {\r\n      section: currentSection,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"section-card\" onClick={openSection}>\r\n      <div className=\"content\">\r\n        <h3>Class Name</h3>\r\n        <h4>{section.name}</h4>\r\n      </div>\r\n      <div className=\"content\">\r\n        <h3>Subject</h3>\r\n        <h4>\r\n          {subjectEnum?.filter((x) => x.value === section.subjectId)[0].label}\r\n        </h4>\r\n      </div>\r\n      <div className=\"content\">\r\n        <h3>Grade</h3>\r\n        <h4>\r\n          {gradeEnum?.filter((x) => x.value === section.gradeId)[0].label}\r\n        </h4>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TeacherDashboardSectionCard;\r\n","import React, { useState } from 'react';\r\nimport { useSetRecoilState } from 'recoil';\r\nimport { Sections } from '../../../../api';\r\nimport { modals } from '../../../../state';\r\nimport { InviteToSection } from '../InviteToSection';\r\nimport { CreateNewSection } from './CreateNewSection';\r\nimport Section from './TeacherDashboardSectionCard';\r\n\r\nconst RenderTeacherDashboardSectionList = ({\r\n  sections,\r\n}: ITeacherDashboardSectionListProps): React.ReactElement => {\r\n  const setInviteModalOpen = useSetRecoilState(modals.invite.isOpen);\r\n  const [newSectionOpen, setNewSectionOpen] = useState(false);\r\n  const openSectionModal = () => setNewSectionOpen(true);\r\n  const openInviteModal = () => setInviteModalOpen(true);\r\n  return (\r\n    <>\r\n      <CreateNewSection\r\n        isVisible={newSectionOpen}\r\n        setIsVisible={setNewSectionOpen}\r\n      />\r\n      <InviteToSection />\r\n      <div className=\"teacher-dash-section-list-wrapper\">\r\n        <div className=\"teacher-dash-section-list-container\">\r\n          <h2>Classes</h2>\r\n          <div className=\"button-row\">\r\n            <button onClick={openSectionModal}>Add Class</button>\r\n            <button onClick={openInviteModal}>Invite to Class</button>\r\n          </div>\r\n          <div className=\"section-list\">\r\n            {sections?.map((sec) => (\r\n              <Section {...sec} key={sec.id} />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\ninterface ITeacherDashboardSectionListProps {\r\n  sections: Sections.ISectionWithRumbles[];\r\n}\r\n\r\nexport default RenderTeacherDashboardSectionList;\r\n","import React from 'react';\r\nimport { Sections } from '../../../api';\r\nimport { Loader } from '../../common';\r\nimport { PromptQueueDisplay } from './PromptQueueDisplay';\r\nimport { TeacherDashboardRumbleList } from './TeacherDashboardRumbleList';\r\nimport { TeacherDashboardSectionList } from './TeacherDashboardSectionList';\r\n\r\nconst RenderTeacherDashboard = ({\r\n  sectionList,\r\n}: IRenderTeacherDashboardProps): React.ReactElement => {\r\n  return (\r\n    <div className=\"teacher-dashboard\">\r\n      <PromptQueueDisplay />\r\n\r\n      {sectionList ? (\r\n        <>\r\n          <TeacherDashboardRumbleList sections={sectionList} />\r\n          <TeacherDashboardSectionList sections={sectionList} />\r\n        </>\r\n      ) : (\r\n        <Loader message={'Loading sections'} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface IRenderTeacherDashboardProps {\r\n  sectionList: Sections.ISectionWithRumbles[];\r\n}\r\n\r\nexport default RenderTeacherDashboard;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useSetRecoilState } from 'recoil';\r\nimport { Sections, Students } from '../../../../../api';\r\nimport { current } from '../../../../../state';\r\nimport { Table } from '../../../../common';\r\n\r\nconst RumbleStudentCard = ({\r\n  section,\r\n  student,\r\n}: IRumbleStudentCardProps): React.ReactElement => {\r\n  const { push } = useHistory();\r\n  const setCurrentSection = useSetRecoilState(current.section);\r\n  const setCurrentStudent = useSetRecoilState(current.student);\r\n  const setCurrentSub = useSetRecoilState(current.sub);\r\n\r\n  const openSubmission = () => {\r\n    setCurrentSection(section);\r\n    setCurrentStudent(student);\r\n    setCurrentSub(student.submissions[0]);\r\n    push('/dashboard/teacher/submission', {\r\n      student,\r\n      section,\r\n      submission: student.submissions[0],\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Table.Row>\r\n      <Table.Col>\r\n        {student.firstname} {student.lastname}\r\n      </Table.Col>\r\n      <Table.Col>{student.lastname}</Table.Col>\r\n      <Table.Col>{student.firstname}</Table.Col>\r\n      <Table.Col className=\"status\">\r\n        {student.submissions.length > 0 ? (\r\n          <button onClick={openSubmission}>View</button>\r\n        ) : (\r\n          'Incomplete'\r\n        )}\r\n      </Table.Col>\r\n    </Table.Row>\r\n  );\r\n};\r\n\r\ninterface IRumbleStudentCardProps {\r\n  student: Students.IStudentWithSubmissions;\r\n  section: Sections.ISectionWithRumbles;\r\n}\r\n\r\nexport default RumbleStudentCard;\r\n","import React from 'react';\r\nimport { Sections, Students } from '../../../../../api';\r\nimport { Table } from '../../../../common';\r\nimport RumbleStudentCard from './RumbleStudentCard';\r\n\r\nconst RenderRumbleStudentList = ({\r\n  studentList,\r\n  section,\r\n}: IRenderRumbleStudentListProps): React.ReactElement => {\r\n  return (\r\n    <div className=\"rumble-student-list-wrapper\">\r\n      <div className=\"rumble-student-list-container\">\r\n        <div className=\"rumble-student-list\">\r\n          <Table.Header>\r\n            <Table.Col>Student Name</Table.Col>\r\n            <Table.Col>Last Name</Table.Col>\r\n            <Table.Col>First Name</Table.Col>\r\n            <Table.Col>Submission Status</Table.Col>\r\n          </Table.Header>\r\n          <Table.Body>\r\n            {studentList.map((student) => (\r\n              <RumbleStudentCard\r\n                student={student}\r\n                section={section}\r\n                key={student.id}\r\n              />\r\n            ))}\r\n          </Table.Body>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface IRenderRumbleStudentListProps {\r\n  studentList: Students.IStudentWithSubmissions[];\r\n  section: Sections.ISectionWithRumbles;\r\n}\r\n\r\nexport default RenderRumbleStudentList;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Rumbles, Sections, Students } from '../../../../../api';\r\nimport { CouldNotLoad, Loader } from '../../../../common';\r\nimport RenderRumbleStudentList from './RenderRumbleStudentList';\r\n\r\nconst RumbleStudentListContainer = ({\r\n  rumble,\r\n  section,\r\n}: IRumbleStudentListContainerProps): React.ReactElement => {\r\n  const [studentList, setStudentList] = useState<\r\n    Students.IStudentWithSubmissions[]\r\n  >();\r\n  const [error, setError] = useState<string>();\r\n\r\n  useEffect(() => {\r\n    console.log('rumbleId', rumble.id);\r\n    setStudentList(undefined);\r\n    Students.getWithSubsByRumbleId(rumble.id)\r\n      .then((res) => {\r\n        setStudentList(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setError(err.message);\r\n      });\r\n  }, [section, rumble]);\r\n\r\n  return studentList && section ? (\r\n    <RenderRumbleStudentList studentList={studentList} section={section} />\r\n  ) : error ? (\r\n    <CouldNotLoad error={error} />\r\n  ) : (\r\n    <Loader message={'Loading students'} />\r\n  );\r\n};\r\n\r\ninterface IRumbleStudentListContainerProps {\r\n  rumble: Rumbles.IRumbleWithSectionInfo;\r\n  section: Sections.ISectionWithRumbles;\r\n}\r\n\r\nexport default RumbleStudentListContainer;\r\n","import React from 'react';\r\nimport { Rumbles, Sections } from '../../../../api';\r\nimport { PromptBox, SectionInfo } from '../../../common';\r\nimport { RumbleStudentList } from './RumbleStudentList';\r\n\r\nconst RenderTeacherViewRumble = ({\r\n  rumble,\r\n  section,\r\n  prompt,\r\n}: IRenderTeacherViewRumbleProps): React.ReactElement => {\r\n  return (\r\n    <div className=\"teacher-view-rumble\">\r\n      <PromptBox prompt={prompt} isTeacher />\r\n      <SectionInfo section={section} />\r\n      <RumbleStudentList section={section} rumble={rumble} />\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface IRenderTeacherViewRumbleProps {\r\n  rumble: Rumbles.IRumbleWithSectionInfo;\r\n  section: Sections.ISectionWithRumbles;\r\n  prompt: string;\r\n}\r\n\r\nexport default RenderTeacherViewRumble;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useRecoilValue } from 'recoil';\r\nimport { Prompts } from '../../../../api';\r\nimport { useCheckBrowserState } from '../../../../hooks';\r\nimport { current } from '../../../../state';\r\nimport { Loader } from '../../../common';\r\nimport RenderTeacherViewRumble from './RenderTeacherViewRumble';\r\n\r\nconst TeacherViewRumbleContainer = (): React.ReactElement => {\r\n  const { isLoading } = useCheckBrowserState('section', 'rumble');\r\n  const section = useRecoilValue(current.section);\r\n  const rumble = useRecoilValue(current.rumble);\r\n  const [prompt, setPrompt] = useState<string>();\r\n  const [promptIsLoading, setPromptIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (rumble)\r\n      Prompts.getPromptById(rumble.promptId)\r\n        .then((res) => {\r\n          setPrompt(res);\r\n          setPromptIsLoading(false);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          setPromptIsLoading(false);\r\n        });\r\n  }, [rumble]);\r\n\r\n  return section && rumble && prompt && !isLoading && !promptIsLoading ? (\r\n    <RenderTeacherViewRumble\r\n      rumble={rumble}\r\n      section={section}\r\n      prompt={prompt}\r\n    />\r\n  ) : isLoading || promptIsLoading ? (\r\n    <Loader message={'Loading rumble'} />\r\n  ) : (\r\n    <p>Redirecting...</p>\r\n  );\r\n};\r\n\r\nexport default TeacherViewRumbleContainer;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useResetRecoilState, useSetRecoilState } from 'recoil';\r\nimport { Sections, Students } from '../../../../../api';\r\nimport { current } from '../../../../../state';\r\nimport { Table } from '../../../../common';\r\n\r\nconst SectionStudentCard = ({\r\n  section,\r\n  student,\r\n}: ISectionStudentCardProps): React.ReactElement => {\r\n  const { push } = useHistory();\r\n  const setCurrentSection = useSetRecoilState(current.section);\r\n  const setCurrentStudent = useSetRecoilState(current.student);\r\n  const clearCurrentRumble = useResetRecoilState(current.rumble);\r\n\r\n  const openStudent = () => {\r\n    setCurrentSection(section);\r\n    setCurrentStudent(student);\r\n    clearCurrentRumble();\r\n    push('/dashboard/teacher/student', { student, section });\r\n  };\r\n\r\n  return (\r\n    <Table.Row onClick={openStudent}>\r\n      <Table.Col>\r\n        {student.firstname} {student.lastname}\r\n      </Table.Col>\r\n      <Table.Col>{student.lastname}</Table.Col>\r\n      <Table.Col>{student.firstname}</Table.Col>\r\n      <Table.Col>{student.submissions.length}</Table.Col>\r\n    </Table.Row>\r\n  );\r\n};\r\n\r\ninterface ISectionStudentCardProps {\r\n  student: Students.IStudentWithSubmissions;\r\n  section: Sections.ISectionWithRumbles;\r\n}\r\n\r\nexport default SectionStudentCard;\r\n","import React from 'react';\r\nimport { Sections, Students } from '../../../../../api';\r\nimport { Table } from '../../../../common';\r\nimport SectionStudentCard from './SectionStudentCard';\r\n\r\nconst RenderSectionStudentList = ({\r\n  studentList,\r\n  section,\r\n}: IRenderSectionStudentListProps): React.ReactElement => {\r\n  return (\r\n    <div className=\"student-list-wrapper\">\r\n      <div className=\"student-list-container\">\r\n        <div className=\"student-list\">\r\n          <Table.Header>\r\n            <Table.Col>Student Name</Table.Col>\r\n            <Table.Col>Last Name</Table.Col>\r\n            <Table.Col>First Name</Table.Col>\r\n            <Table.Col># of Submissions</Table.Col>\r\n          </Table.Header>\r\n          <Table.Body>\r\n            {studentList.map((student) => (\r\n              <SectionStudentCard\r\n                student={student}\r\n                section={section}\r\n                key={student.id}\r\n              />\r\n            ))}\r\n          </Table.Body>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface IRenderSectionStudentListProps {\r\n  studentList: Students.IStudentWithSubmissions[];\r\n  section: Sections.ISectionWithRumbles;\r\n}\r\n\r\nexport default RenderSectionStudentList;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useRecoilState } from 'recoil';\r\nimport { Sections, Students } from '../../../../../api';\r\nimport { students } from '../../../../../state';\r\nimport { CouldNotLoad, Loader } from '../../../../common';\r\nimport RenderSectionStudentList from './RenderSectionStudentList';\r\n\r\nconst SectionStudentListContainer = ({\r\n  section,\r\n  visible = true,\r\n}: ISectionStudentListContainerProps): React.ReactElement => {\r\n  const [studentList, setStudentList] = useRecoilState(students.list);\r\n  const [error, setError] = useState<string>();\r\n\r\n  useEffect(() => {\r\n    console.log('sectionId', section.id);\r\n    Students.getWithSubsBySectionId(section.id)\r\n      .then((res) => {\r\n        setStudentList(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setError(err.message);\r\n      });\r\n  }, [section]);\r\n\r\n  if (!visible) return <></>;\r\n  return studentList ? (\r\n    <RenderSectionStudentList studentList={studentList} section={section} />\r\n  ) : error ? (\r\n    <CouldNotLoad error={error} />\r\n  ) : (\r\n    <Loader message={'Loading students'} />\r\n  );\r\n};\r\n\r\ninterface ISectionStudentListContainerProps {\r\n  section: Sections.ISectionWithRumbles;\r\n  visible?: boolean;\r\n}\r\n\r\nexport default SectionStudentListContainer;\r\n","import React, { useState } from 'react';\r\nimport { Sections } from '../../../../api';\r\nimport { SectionInfo } from '../../../common';\r\nimport { InviteToSection } from '../InviteToSection';\r\nimport { TeacherDashboardRumbleList } from '../TeacherDashboardRumbleList';\r\nimport { SectionStudentList } from './SectionStudentList';\r\n\r\nconst RenderTeacherViewSection = ({\r\n  section,\r\n}: IRenderTeacherViewSectionProps): React.ReactElement => {\r\n  const [isStudentView, setIsStudentView] = useState(false);\r\n  const openStudentView = () => setIsStudentView(true);\r\n  const openRumbleView = () => setIsStudentView(false);\r\n  return (\r\n    <>\r\n      <InviteToSection disableSectionPicker />\r\n      <div className=\"teacher-view-section\">\r\n        <SectionInfo isTeacher section={section} />\r\n        <div className=\"section-content-switcher-wrapper\">\r\n          <div className=\"section-content-switcher-container\">\r\n            <h3\r\n              onClick={openRumbleView}\r\n              className={isStudentView ? '' : 'active'}\r\n            >\r\n              Rumbles\r\n            </h3>\r\n            <h3\r\n              onClick={openStudentView}\r\n              className={isStudentView ? 'active' : ''}\r\n            >\r\n              Students\r\n            </h3>\r\n          </div>\r\n        </div>\r\n        <SectionStudentList visible={isStudentView} section={section} />\r\n        <TeacherDashboardRumbleList\r\n          visible={!isStudentView}\r\n          sections={[section]}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\ninterface IRenderTeacherViewSectionProps {\r\n  section: Sections.ISectionWithRumbles;\r\n}\r\n\r\nexport default RenderTeacherViewSection;\r\n","import React from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport { useRecoilValue } from 'recoil';\r\nimport { useCheckBrowserState } from '../../../../hooks';\r\nimport { current } from '../../../../state';\r\nimport { Loader } from '../../../common';\r\nimport RenderTeacherViewSection from './RenderTeacherViewSection';\r\n\r\nconst TeacherViewSectionContainer = (): React.ReactElement => {\r\n  const { isLoading } = useCheckBrowserState('section');\r\n  const section = useRecoilValue(current.section);\r\n\r\n  return section && !isLoading ? (\r\n    <RenderTeacherViewSection section={section} />\r\n  ) : isLoading ? (\r\n    <Loader message=\"Loading section\" />\r\n  ) : (\r\n    <Redirect to=\"/dashboard/teacher\" />\r\n  );\r\n};\r\n\r\nexport default TeacherViewSectionContainer;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useRecoilValue, useSetRecoilState } from 'recoil';\r\nimport { Submissions } from '../../../../../api';\r\nimport { current } from '../../../../../state';\r\nimport { Table } from '../../../../common';\r\n\r\nconst SubmissionCard = ({\r\n  score,\r\n  prompt,\r\n  src,\r\n  codename,\r\n  ...submission\r\n}: Submissions.ISubItem): React.ReactElement => {\r\n  const { push } = useHistory();\r\n  const student = useRecoilValue(current.student);\r\n  const section = useRecoilValue(current.section);\r\n  const setCurrentSubmission = useSetRecoilState(current.sub);\r\n\r\n  const openSubView = () => {\r\n    const currentSubmission = {\r\n      ...submission,\r\n      score,\r\n      prompt,\r\n      src,\r\n      codename,\r\n    };\r\n    setCurrentSubmission(currentSubmission);\r\n    push('/dashboard/teacher/submission', {\r\n      student,\r\n      section,\r\n      submission: currentSubmission,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Table.Row onClick={openSubView}>\r\n      <Table.Col>{prompt}</Table.Col>\r\n      <Table.Col>{score}</Table.Col>\r\n    </Table.Row>\r\n  );\r\n};\r\nexport default SubmissionCard;\r\n","import React from 'react';\r\nimport { Auth, Submissions } from '../../../../../api';\r\nimport { Table } from '../../../../common';\r\nimport SubmissionCard from './SubmissionCard';\r\n\r\nconst RenderSubmissionList = ({\r\n  submissionList,\r\n}: IRenderSubmissionListProps): React.ReactElement => {\r\n  return (\r\n    <div className=\"submission-list-wrapper\">\r\n      <div className=\"submission-list-container\">\r\n        <div className=\"submission-list\">\r\n          <Table.Header>\r\n            <Table.Col>Prompt</Table.Col>\r\n            <Table.Col>Score</Table.Col>\r\n          </Table.Header>\r\n          <Table.Body>\r\n            {submissionList.map((sub) => (\r\n              <SubmissionCard {...sub} key={sub.id} />\r\n            ))}\r\n          </Table.Body>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface IRenderSubmissionListProps {\r\n  submissionList: Submissions.ISubItem[];\r\n  student: Auth.IUser;\r\n}\r\n\r\nexport default RenderSubmissionList;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Sections, Students, Submissions } from '../../../../../api';\r\nimport { CouldNotLoad } from '../../../../common';\r\nimport RenderSubmissionList from './RenderSubmissionList';\r\n\r\nconst SubmissionListContainer = ({\r\n  student,\r\n  section,\r\n}: ISubmissionListContainerProps): React.ReactElement => {\r\n  const [subList, setSubList] = useState<Submissions.ISubItem[]>(\r\n    student.submissions,\r\n  );\r\n  const [error, setError] = useState<string>();\r\n\r\n  useEffect(() => {\r\n    if (!subList) {\r\n      Submissions.getSubsForStudentInSection(student.id, section.id)\r\n        .then((res) => {\r\n          console.log({ subList: res });\r\n          setSubList(res);\r\n        })\r\n        .catch((err) => {\r\n          console.log({ err });\r\n          setError(err.message);\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  return subList ? (\r\n    <RenderSubmissionList student={student} submissionList={subList} />\r\n  ) : error ? (\r\n    <CouldNotLoad error={error} />\r\n  ) : (\r\n    <p>Loading submissions...</p>\r\n  );\r\n};\r\n\r\ninterface ISubmissionListContainerProps {\r\n  student: Students.IStudentWithSubmissions;\r\n  section: Sections.ISection;\r\n}\r\n\r\nexport default SubmissionListContainer;\r\n","import React from 'react';\r\nimport { Sections, Students } from '../../../../api';\r\nimport { SubmissionList } from './SubmissionList';\r\n\r\nconst RenderTeacherViewStudent = ({\r\n  section,\r\n  student,\r\n}: IRenderTeacherViewStudentProps): React.ReactElement => {\r\n  return (\r\n    <div className=\"teacher-view-student\">\r\n      <div className=\"student-info-wrapper\">\r\n        <div className=\"student-info-container\">\r\n          <div className=\"content\">\r\n            <div className=\"content-item\">\r\n              <h3>Student Name</h3>\r\n              <h4>\r\n                {student.firstname} {student.lastname}\r\n              </h4>\r\n            </div>\r\n            <div className=\"content-item\">\r\n              <h3>Codename</h3>\r\n              <h4>{student.codename}</h4>\r\n            </div>\r\n            <div className=\"content-item\">\r\n              <h3>Email</h3>\r\n              <h4>{student.email}</h4>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <SubmissionList student={student} section={section} />\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface IRenderTeacherViewStudentProps {\r\n  student: Students.IStudentWithSubmissions;\r\n  section: Sections.ISection;\r\n}\r\n\r\nexport default RenderTeacherViewStudent;\r\n","import React from 'react';\r\nimport { useRecoilValue } from 'recoil';\r\nimport { useCheckBrowserState } from '../../../../hooks';\r\nimport { current } from '../../../../state';\r\nimport { Loader } from '../../../common';\r\nimport RenderTeacherViewStudent from './RenderTeacherViewStudent';\r\n\r\nconst TeacherViewStudentContainer = (): React.ReactElement => {\r\n  const { isLoading } = useCheckBrowserState('student', 'section');\r\n  const student = useRecoilValue(current.student);\r\n  const section = useRecoilValue(current.section);\r\n\r\n  return student && section && !isLoading ? (\r\n    <RenderTeacherViewStudent student={student} section={section} />\r\n  ) : isLoading ? (\r\n    <Loader message={'Loading student'} />\r\n  ) : (\r\n    <p>Redirecting...</p>\r\n  );\r\n};\r\n\r\nexport default TeacherViewStudentContainer;\r\n","import React, { useMemo } from 'react';\r\nimport { Auth, Sections, Submissions } from '../../../../api';\r\nimport { PromptBox, SectionInfo } from '../../../common';\r\n\r\nconst RenderTeacherViewSubmission = ({\r\n  submission,\r\n  section,\r\n  student,\r\n}: IRenderTeacherViewSubmissionProps): React.ReactElement => {\r\n  const studentName = useMemo(\r\n    () => `${student.firstname} ${student.lastname}`,\r\n    [student],\r\n  );\r\n  return (\r\n    <div className=\"teacher-view-submission\">\r\n      <PromptBox prompt={submission.prompt} />\r\n      <SectionInfo section={section} studentName={studentName} />\r\n      <div className=\"image-wrapper\">\r\n        <div className=\"image-container\">\r\n          <img src={submission.src} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface IRenderTeacherViewSubmissionProps {\r\n  section: Sections.ISectionWithRumbles;\r\n  student: Auth.IUser;\r\n  submission: Submissions.ISubItem;\r\n}\r\n\r\nexport default RenderTeacherViewSubmission;\r\n","import React from 'react';\r\nimport { useRecoilValue } from 'recoil';\r\nimport { useCheckBrowserState } from '../../../../hooks';\r\nimport { current } from '../../../../state';\r\nimport { Loader } from '../../../common';\r\nimport RenderTeacherViewSubmission from './RenderTeacherViewSubmission';\r\n\r\nconst TeacherViewSubmissionContainer = (): React.ReactElement => {\r\n  const { isLoading } = useCheckBrowserState('section', 'student', 'sub');\r\n  const section = useRecoilValue(current.section);\r\n  const student = useRecoilValue(current.student);\r\n  const submission = useRecoilValue(current.sub);\r\n\r\n  return section && student && submission && !isLoading ? (\r\n    <RenderTeacherViewSubmission\r\n      section={section}\r\n      student={student}\r\n      submission={submission}\r\n    />\r\n  ) : isLoading ? (\r\n    <Loader message={'Loading submission'} />\r\n  ) : (\r\n    <p>REDIRECTING</p>\r\n  );\r\n};\r\n\r\nexport default TeacherViewSubmissionContainer;\r\n","import React from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport { useRecoilValue } from 'recoil';\r\nimport { sections } from '../../../state';\r\nimport { Header } from '../../common';\r\nimport { CreateNewRumble } from './CreateNewRumble';\r\nimport RenderTeacherDashboard from './RenderTeacherDashboard';\r\nimport { TeacherViewRumble } from './TeacherViewRumble';\r\nimport { TeacherViewSection } from './TeacherViewSection';\r\nimport { TeacherViewStudent } from './TeacherViewStudent';\r\nimport { TeacherViewSubmission } from './TeacherViewSubmission';\r\n\r\nconst TeacherDashboardContainer = (): React.ReactElement => {\r\n  const sectionList = useRecoilValue(sections.list);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Switch>\r\n        <Route\r\n          exact\r\n          path=\"/dashboard/teacher\"\r\n          render={() => <RenderTeacherDashboard sectionList={sectionList} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path=\"/dashboard/teacher/section\"\r\n          render={() => <TeacherViewSection />}\r\n        />\r\n        <Route\r\n          exact\r\n          path=\"/dashboard/teacher/rumble\"\r\n          render={() => <TeacherViewRumble />}\r\n        />\r\n        <Route\r\n          exact\r\n          path=\"/dashboard/teacher/student\"\r\n          render={() => <TeacherViewStudent />}\r\n        />\r\n        <Route\r\n          exact\r\n          path=\"/dashboard/teacher/submission\"\r\n          render={() => <TeacherViewSubmission />}\r\n        />\r\n        <Route\r\n          exact\r\n          path=\"/dashboard/teacher/rumble/new\"\r\n          render={(props) => <CreateNewRumble {...props} />}\r\n        />\r\n        {/* Fallback redirect for nonexistent routes */}\r\n        <Route\r\n          path=\"/dashboard/teacher\"\r\n          component={() => <Redirect to=\"/dashboard/teacher\" />}\r\n        />\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TeacherDashboardContainer;\r\n","import React from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport { Auth } from './api';\r\nimport {\r\n  CookiePopup,\r\n  LandingPageWrapper,\r\n  LoadUserData,\r\n  LogoutPopup,\r\n  PrivateRoute,\r\n  SEO,\r\n  TermsOfService,\r\n} from './components/common/';\r\nimport { CleverRedirect } from './components/pages/CleverRedirect';\r\nimport { LandingPage } from './components/pages/LandingPage';\r\nimport { LoginPage } from './components/pages/LoginPage';\r\nimport { SignupPage } from './components/pages/SignupPage';\r\nimport { StudentDashboard } from './components/pages/StudentDashboard';\r\nimport { TeacherDashboard } from './components/pages/TeacherDashboard';\r\n\r\nconst App = (): React.ReactElement => {\r\n  return (\r\n    <div className=\"App\">\r\n      <LoadUserData />\r\n      <SEO />\r\n      <CookiePopup />\r\n      <LogoutPopup />\r\n      <Switch>\r\n        {/* Public Routes */}\r\n        <Route\r\n          exact\r\n          path=\"/\"\r\n          component={() => (\r\n            <LandingPageWrapper>\r\n              <LandingPage />\r\n            </LandingPageWrapper>\r\n          )}\r\n        />\r\n        <Route\r\n          path=\"/login\"\r\n          component={() => (\r\n            <LandingPageWrapper>\r\n              <LoginPage />\r\n            </LandingPageWrapper>\r\n          )}\r\n        />\r\n        <Route\r\n          path=\"/signup\"\r\n          component={() => (\r\n            <LandingPageWrapper>\r\n              <SignupPage />\r\n            </LandingPageWrapper>\r\n          )}\r\n        />\r\n        <Route path=\"/tos\" component={TermsOfService} />\r\n\r\n        {/* OAuth Redirects */}\r\n        <Route\r\n          exact\r\n          path=\"/oauth/clever\"\r\n          component={() => (\r\n            <LandingPageWrapper>\r\n              <CleverRedirect />\r\n            </LandingPageWrapper>\r\n          )}\r\n        />\r\n\r\n        {/* Private Routes */}\r\n        <PrivateRoute\r\n          path=\"/dashboard/teacher\"\r\n          userType={Auth.Roles.teacher}\r\n          component={TeacherDashboard}\r\n        />\r\n        <PrivateRoute\r\n          path=\"/dashboard/student\"\r\n          userType={Auth.Roles.user}\r\n          component={StudentDashboard}\r\n        />\r\n\r\n        {/* Fallback Route */}\r\n        <Route path=\"/\" component={() => <Redirect to=\"/\" />} />\r\n      </Switch>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals/dist/types';\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import dotenv from 'dotenv';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { HelmetProvider } from 'react-helmet-async';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { RecoilRoot } from 'recoil';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport './styles/index.scss';\r\n\r\ndotenv.config();\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <RecoilRoot>\r\n      <Router>\r\n        <HelmetProvider>\r\n          <App />\r\n        </HelmetProvider>\r\n      </Router>\r\n    </RecoilRoot>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}